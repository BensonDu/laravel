(function(){var t=this,e=200,n=0,i=20;this.vue=new Vue({el:"#list-container",data:{orderby:"hot",load:"More",syn:!0,rsyn:!1,list:[]},methods:{_orderby:function(e){this.orderby=e,t.get_order()},_more:function(){return t.get_more()}}}),this.list=[],this.insert_list=function(e){t.list=t.list.concat(e),t.vue.list=$.extend([],t.list)},this.has_more=function(){return(n+1)*i<e},this.btn_sta=function(){return 0==e?t.vue.load="":t.has_more()?t.vue.load="More":t.vue.load="End"},this.get_more=function(){n++,t.get_data(n,function(e){t.insert_list(e)})},this.get_order=function(){n=0,t.list=[],t.get_data(n,function(e){t.vue.syn=!1,t.insert_list(e)})},this.get_data=function(e,n){t.has_more()&&(t.vue.load="loading",request.get("/index/list",function(e){e.hasOwnProperty("code")&&0==e.code&&setTimeout(function(){t.vue.rsyn=!0,t.btn_sta(),n(e.data)},0)},{orderby:t.vue.orderby,index:e}))}}).call(define("index")),function(){function t(t,e){var n=new Image,o=t.getAttribute(i);n.onload=function(){t.src=o,!!t.removeAttribute&&t.removeAttribute(i),e?e():null},n.src=o}function e(t){var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.top-200<=(window.innerHeight||document.documentElement.clientHeight)}function n(){for(var n=document.querySelectorAll("img["+i+"]"),o=0;o<n.length;o++)e(n[o])&&t(n[o])}var i="data-lazy-src";setInterval(n,300)}.call(this);