(function(){var t,e=this,n=jQuery("#site-head-menu"),a=n.children("ul"),i=jQuery("#site-head-nav"),o=i.children(".nav-container"),s=jQuery("#site-qr"),r=jQuery("#weixin");this.container=function(e){e?(t&&clearTimeout(t),t=setTimeout(function(){o.addClass("active")},400)):o.removeClass("active")},r.click(function(){var t=jQuery(this).data("src");s.hasClass("active")?s.removeClass("active"):(t&&(s.children("img").attr("src",t),jQuery(this).data("src",null)),s.addClass("active"))}),n.click(function(){i.hasClass("active")?(i.addClass("negactive").removeClass("active"),a.removeClass("active"),e.container(0)):(i.addClass("active").removeClass("negactive"),a.addClass("active"),e.container(1))})}).call(define("c_menu")),function(){global&&global.hasOwnProperty("uid")&&""==global.uid&&request.jsonp(global.platform.home+"/account/status",function(t){t.data&&t.data.login&&(location.href=global.platform.home+"/account/login?redirect="+encodeURIComponent(location.href))})}.call(define("c_login_syn")),function(){var t=this,e=document.getElementById("star"),n=$(".star-wrap").children("a"),a=n.eq(0),i=($(".test").children("p"),0),o=$(window).width(),s=1,r=!0,c=!0;e&&(this.vue=new Vue({el:"#star",data:{current:1,total:n.length},methods:{}}),this.margin=function(t){return a.css("margin-left",t)},this.start=function(){r=!1,i=parseInt(a.css("margin-left"))},this.move=function(e){return t.margin(i+e)},this.end=function(e){var n=e,a=Math.abs(n),i=50;a>i&&(n>0?s>1&&s--:s<t.vue.total&&s++),t.vue.current=s,t.animate(s)},this.animate=function(t){var e="transition",n=102-104*t;a.addClass(e).css("margin-left",n+"%"),r=!1,setTimeout(function(){r=!0,a.removeClass(e),i=parseInt(a.css("margin-left"))},400)},this.play=setInterval(function(){var e=t.vue.total;return!!r&&(c?(s<e&&s++,s==e&&(c=!1)):(s>1&&s--,1==s&&(c=!0)),t.vue.current=s,void t.animate(s))},1e4),this.touch=function(e){var n,a,i,o,s=function(e){var s=e||window.event;n=s.touches[0].pageX,a=s.touches[0].pageY,i=(new Date).getTime(),o=parseInt(window.scrollY),t.start()},r=function(e){var i=e||window.event;mX=i.touches[0].pageX-n,mY=i.touches[0].pageY-a,t.move(mX)},c=function(){var e=event||window.event;mX=e.touches[0].pageX-n,mY=e.touches[0].pageY-a,t.move(mX),event.preventDefault(),Math.abs(mY)>10&&window.scrollTo(0,.8*-mY+o)},l=function(e){var o=e||window.event,s=o.changedTouches[0].pageX-n,r=(o.changedTouches[0].pageY-a,(new Date).getTime());r-i>100&&Math.abs(s)>10&&t.end(s)};e.nodeType&&1==e.nodeType&&(e.addEventListener("touchstart",s,!1),env.isandrod?e.addEventListener("touchmove",c,!1):e.addEventListener("touchmove",r,!1),e.addEventListener("touchend",l,!1))}(e),window.onresize=function(){o=$(window).width()})}.call(define("star")),function(){var t=this,e=$(".category").children("a"),n=$("#load-more"),a=data.article.total,i=0,o=15;this.vue=new Vue({el:"#list-container",data:{category:0,visible:"visible",none:1,list:[],load:"more",categoryload:!1},methods:{}}),this.category=0,this.list=[],this.filter_mode=function(){var t=$(".default-list");return!!t.length&&t.remove()},this.insert_list=function(e){t.list=t.list.concat(e),t.vue.list=$.extend([],t.list)},this.swith_list=function(e){t.filter_mode(),t.list=t.vue.list=e},this.has_more=function(){return(i+1)*o<a},this.btn_sta=function(){return t.list_is_empty(!a),0==a?t.vue.load="":t.has_more()?t.vue.load="More":t.vue.load="End"},this.list_is_empty=function(e){return t.vue.none=e},this.btn_loading=function(){return t.vue.load="loading"},this.get_data=function(e,n,o){(t.has_more()||o)&&(t.btn_loading(),request.get("/index/list",function(e){e.hasOwnProperty("code")&&0==e.code&&(a=e.data.total,i++,setTimeout(function(){t.btn_sta(),n(e.data.list)},0))},{category:t.category,index:e+1}))},this.get_list=function(){t.get_data(i,function(e){t.insert_list(e)})},this.get_category_list=function(e){i=-1,t.category=t.vue.category=e,t.vue.categoryload=!0,t.get_data(i,function(e){t.vue.categoryload=!1,t.swith_list(e)},1)},e.tap(function(){var e=this.data("id");t.get_category_list(e)}),n.tap(t.get_list),t.btn_sta()}.call(define("list")),function(){function t(t,e){var n=new Image,i=t.getAttribute(a);n.onload=function(){t.src=i,!!t.removeAttribute&&t.removeAttribute(a),e?e():null},n.onerror=function(){!!t.removeAttribute&&t.removeAttribute(a),e?e():null},n.src=i}function e(t){var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.top-200<=(window.innerHeight||document.documentElement.clientHeight)}function n(){for(var n=document.querySelectorAll("img["+a+"]"),i=0;i<n.length;i++)e(n[i])&&t(n[i])}var a="data-lazy-src";setInterval(n,300)}.call(this);