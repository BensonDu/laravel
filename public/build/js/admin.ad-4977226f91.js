!function(){var t,e=[].slice;t=function(){function t(t){var e,i,n,a,s,o,r;if(this.opts=$.extend({},this.opts,t),(s=this.constructor)._connectedClasses||(s._connectedClasses=[]),n=function(){var t,i,n,s;for(n=this.constructor._connectedClasses,s=[],t=0,i=n.length;i>t;t++)e=n[t],a=e.pluginName.charAt(0).toLowerCase()+e.pluginName.slice(1),e.prototype._connected&&(e.prototype._module=this),s.push(this[a]=new e);return s}.call(this),this._connected)this.opts=$.extend({},this.opts,this._module.opts);else for(this._init(),o=0,r=n.length;r>o;o++)i=n[o],"function"==typeof i._init&&i._init();this.trigger("initialized")}return t.extend=function(t){var e,i,n;if(null!=t&&"object"==typeof t){for(e in t)i=t[e],"included"!==e&&"extended"!==e&&(this[e]=i);return null!=(n=t.extended)?n.call(this):void 0}},t.include=function(t){var e,i,n;if(null!=t&&"object"==typeof t){for(e in t)i=t[e],"included"!==e&&"extended"!==e&&(this.prototype[e]=i);return null!=(n=t.included)?n.call(this):void 0}},t.connect=function(t){if("function"==typeof t){if(!t.pluginName)throw new Error("Module.connect: cannot connect plugin without pluginName");return t.prototype._connected=!0,this._connectedClasses||(this._connectedClasses=[]),this._connectedClasses.push(t),t.pluginName?this[t.pluginName]=t:void 0}},t.prototype.opts={},t.prototype._init=function(){},t.prototype.on=function(){var t,i;return t=1<=arguments.length?e.call(arguments,0):[],(i=$(this)).on.apply(i,t),this},t.prototype.one=function(){var t,i;return t=1<=arguments.length?e.call(arguments,0):[],(i=$(this)).one.apply(i,t),this},t.prototype.off=function(){var t,i;return t=1<=arguments.length?e.call(arguments,0):[],(i=$(this)).off.apply(i,t),this},t.prototype.trigger=function(){var t,i;return t=1<=arguments.length?e.call(arguments,0):[],(i=$(this)).trigger.apply(i,t),this},t.prototype.triggerHandler=function(){var t,i;return t=1<=arguments.length?e.call(arguments,0):[],(i=$(this)).triggerHandler.apply(i,t)},t.prototype._t=function(){var t,i;return t=1<=arguments.length?e.call(arguments,0):[],(i=this.constructor)._t.apply(i,t)},t._t=function(){var t,i,n,a;return i=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],n=(null!=(a=this.i18n[this.locale])?a[i]:void 0)||"",t.length>0?(n=n.replace(/([^%]|^)%(?:(\d+)\$)?s/g,function(e,i,n){return n?i+t[parseInt(n)-1]:i+t.shift()}),n.replace(/%%s/g,"%s")):n},t.i18n={"zh-CN":{}},t.locale="zh-CN",t}(),window.SimpleModule=t}.call(this),!function(){var t,e,i={}.hasOwnProperty,n=function(t,e){function n(){this.constructor=t}for(var a in e)i.call(e,a)&&(t[a]=e[a]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};t=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.count=0,e.prototype.opts={url:"",params:null,fileKey:"upload_file",connectionCount:3},e.prototype._init=function(){return this.files=[],this.queue=[],this.id=++e.count,this.on("uploadcomplete",function(t){return function(e,i){return t.files.splice($.inArray(i,t.files),1),t.queue.length>0&&t.files.length<t.opts.connectionCount?t.upload(t.queue.shift()):t.uploading=!1}}(this)),$(window).on("beforeunload.uploader-"+this.id,function(t){return function(e){return t.uploading?(e.originalEvent.returnValue=t._t("leaveConfirm"),t._t("leaveConfirm")):void 0}}(this))},e.prototype.generateId=function(){var t;return t=0,function(){return t+=1}}(),e.prototype.upload=function(t,e){var i,n,a,s;if(null==e&&(e={}),null!=t){if($.isArray(t)||t instanceof window.FileList)for(a=0,s=t.length;s>a;a++)i=t[a],this.upload(i,e);else $(t).is("input:file")?(n=$(t).attr("name"),n&&(e.fileKey=n),this.upload($.makeArray($(t)[0].files),e)):t.id&&t.obj||(t=this.getFile(t));if(t&&t.obj){if($.extend(t,e),this.files.length>=this.opts.connectionCount)return void this.queue.push(t);if(this.triggerHandler("beforeupload",[t])!==!1)return this.files.push(t),this._xhrUpload(t),this.uploading=!0}}},e.prototype.getFile=function(t){var e,i,n;return t instanceof window.File||t instanceof window.Blob?(e=null!=(i=t.fileName)?i:t.name,{id:this.generateId(),params:this.opts.params,fileKey:this.opts.fileKey,name:e,size:null!=(n=t.fileSize)?n:t.size,ext:e?e.split(".").pop().toLowerCase():"",obj:t}):null},e.prototype._xhrUpload=function(t){var e;return e=this,$.ajax({dataType:"json",url:"/qiniu/upload/token",async:!0,success:function(i){var n,a,s,o;if(n=new FormData,n.append("file",t.obj),n.append("original_filename",t.name),t.params){o=t.params;for(a in o)s=o[a],n.append(a,s)}return n.append("token",i.token),t.xhr=$.ajax({url:"http://up.qiniu.com",data:n,dataType:"json",processData:!1,contentType:!1,type:"POST",headers:{"X-File-Name":encodeURIComponent(t.name)},xhr:function(){var t;return t=$.ajaxSettings.xhr(),t&&(t.upload.onprogress=function(t){return function(e){return t.progress(e)}}(this)),t},progress:function(){return function(i){return i.lengthComputable?e.trigger("uploadprogress",[t,i.loaded,i.total]):void 0}}(this),error:function(){return function(i,n){return e.trigger("uploaderror",[t,i,n])}}(this),success:function(){return function(i){return e.trigger("uploadprogress",[t,t.size,t.size]),e.trigger("uploadsuccess",[t,i])}}(this),complete:function(){return function(i){return e.trigger("uploadcomplete",[t,i.responseText])}}(this)})}})},e.prototype.cancel=function(t){var e,i,n,a;if(!t.id)for(a=this.files,i=0,n=a.length;n>i;i++)if(e=a[i],e.id===1*t){t=e;break}return this.trigger("uploadcancel",[t]),t.xhr&&t.xhr.abort(),t.xhr=null},e.prototype.readImageFile=function(t,e){var i,n;if($.isFunction(e))return n=new Image,n.onload=function(){return e(n)},n.onerror=function(){return e()},window.FileReader&&FileReader.prototype.readAsDataURL&&/^image/.test(t.type)?(i=new FileReader,i.onload=function(t){return n.src=t.target.result},i.readAsDataURL(t)):e()},e.prototype.destroy=function(){var t,e,i,n;for(this.queue.length=0,n=this.files,e=0,i=n.length;i>e;e++)t=n[e],this.cancel(t);return $(window).off(".uploader-"+this.id),$(document).off(".uploader-"+this.id)},e.i18n={"zh-CN":{leaveConfirm:"文件正在上传,确认退出?"}},e.locale="zh-CN",e}(SimpleModule),e=function(e){return new t(e)},window.simple=window.simple||{},simple.uploader=e,window.get_crop=function(t){var e,i,n,a,s,o,r;return n=t,a=0,o=0,r=0,n&&(s=n.w,i=n.h,s>i?(a=i,o=(s-i)/2,r=0):(a=s,o=0,r=(i-s)/2)),e=""+a+"x"+a+"a"+o+"a"+r}}.call(this),function(){this.imageUploader=function(t,e,i,n){var a=null,s=n?n:alert,o=2097152,r={},h="http://dn-noman.qbox.me/";return a=simple.uploader({}),a.on("beforeupload",function(e,i,n){t(e,i,n)}),a.on("uploadprogress",function(t,i,n,a){e(parseFloat((n/a*100).toFixed(0)))}),a.on("uploadsuccess",function(t,e,n){n.hasOwnProperty("key")?i(h+n.key,n.key):s("上传失败")}),a.on("uploaderror",function(t,e,i,n){s("服务器错误")}),r={upload:function(t){var e=0;return t&&t[0]&&t[0].size&&(e=t[0].size),e>o?s("上传文件过大"):(a.upload(t),r)},cancel:function(){return a.cancel(),r},maxSize:function(t){return o=1024*t*1024,r}}}}.call(this),!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return Ui.apply(null,arguments)}function e(t){Ui=t}function i(t){return"[object Array]"===Object.prototype.toString.call(t)}function n(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function a(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function o(t,e){for(var i in e)s(e,i)&&(t[i]=e[i]);return s(e,"toString")&&(t.toString=e.toString),s(e,"valueOf")&&(t.valueOf=e.valueOf),t}function r(t,e,i,n){return Tt(t,e,i,n,!0).utc()}function h(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function d(t){return null==t._pf&&(t._pf=h()),t._pf}function l(t){if(null==t._isValid){var e=d(t);t._isValid=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function u(t){var e=r(NaN);return null!=t?o(d(e),t):d(e).userInvalidated=!0,e}function c(t,e){var i,n,a;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=d(e)),"undefined"!=typeof e._locale&&(t._locale=e._locale),Oi.length>0)for(i in Oi)n=Oi[i],a=e[n],"undefined"!=typeof a&&(t[n]=a);return t}function f(e){c(this,e),this._d=new Date((+e._d)),Hi===!1&&(Hi=!0,t.updateOffset(this),Hi=!1)}function p(t){return t instanceof f||null!=t&&null!=t._isAMomentObject}function m(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=e>=0?Math.floor(e):Math.ceil(e)),i}function g(t,e,i){var n,a=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),o=0;for(n=0;a>n;n++)(i&&t[n]!==e[n]||!i&&m(t[n])!==m(e[n]))&&o++;return o+s}function v(){}function w(t){return t?t.toLowerCase().replace("_","-"):t}function y(t){for(var e,i,n,a,s=0;s<t.length;){for(a=w(t[s]).split("-"),e=a.length,i=w(t[s+1]),i=i?i.split("-"):null;e>0;){if(n=D(a.slice(0,e).join("-")))return n;if(i&&i.length>=e&&g(a,i,!0)>=e-1)break;e--}s++}return null}function D(t){var e=null;if(!Fi[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Si._abbr,require("./locale/"+t),_(e)}catch(i){}return Fi[t]}function _(t,e){var i;return t&&(i="undefined"==typeof e?M(t):b(t,e),i&&(Si=i)),Si._abbr}function b(t,e){return null!==e?(e.abbr=t,Fi[t]||(Fi[t]=new v),Fi[t].set(e),_(t),Fi[t]):(delete Fi[t],null)}function M(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Si;if(!i(t)){if(e=D(t))return e;t=[t]}return y(t)}function C(t,e){var i=t.toLowerCase();Wi[i]=Wi[i+"s"]=Wi[e]=t}function T(t){return"string"==typeof t?Wi[t]||Wi[t.toLowerCase()]:void 0}function k(t){var e,i,n={};for(i in t)s(t,i)&&(e=T(i),e&&(n[e]=t[i]));return n}function x(e,i){return function(n){return null!=n?(U(this,e,n),t.updateOffset(this,i),this):Y(this,e)}}function Y(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function U(t,e,i){return t._d["set"+(t._isUTC?"UTC":"")+e](i)}function S(t,e){var i;if("object"==typeof t)for(i in t)this.set(i,t[i]);else if(t=T(t),"function"==typeof this[t])return this[t](e);return this}function O(t,e,i){for(var n=""+Math.abs(t),a=t>=0;n.length<e;)n="0"+n;return(a?i?"+":"":"-")+n}function H(t,e,i,n){var a=n;"string"==typeof n&&(a=function(){return this[n]()}),t&&(Pi[t]=a),e&&(Pi[e[0]]=function(){return O(a.apply(this,arguments),e[1],e[2])}),i&&(Pi[i]=function(){return this.localeData().ordinal(a.apply(this,arguments),t)})}function F(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function W(t){var e,i,n=t.match(Ii);for(e=0,i=n.length;i>e;e++)Pi[n[e]]?n[e]=Pi[n[e]]:n[e]=F(n[e]);return function(a){var s="";for(e=0;i>e;e++)s+=n[e]instanceof Function?n[e].call(a,t):n[e];return s}}function I(t,e){return t.isValid()?(e=L(e,t.localeData()),Ni[e]||(Ni[e]=W(e)),Ni[e](t)):t.localeData().invalidDate()}function L(t,e){function i(t){return e.longDateFormat(t)||t}var n=5;for(Li.lastIndex=0;n>=0&&Li.test(t);)t=t.replace(Li,i),Li.lastIndex=0,n-=1;return t}function N(t,e,i){Qi[t]="function"==typeof e?e:function(t){return t&&i?i:e}}function P(t,e){return s(Qi,t)?Qi[t](e._strict,e._locale):new RegExp(V(t))}function V(t){return t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,a){return e||i||n||a}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function z(t,e){var i,n=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(n=function(t,i){i[e]=m(t)}),i=0;i<t.length;i++)tn[t[i]]=n}function B(t,e){z(t,function(t,i,n,a){n._w=n._w||{},e(t,n._w,n,a)})}function E(t,e,i){null!=e&&s(tn,t)&&tn[t](e,i._a,i,t)}function A(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function R(t){return this._months[t.month()]}function G(t){return this._monthsShort[t.month()]}function X(t,e,i){var n,a,s;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;12>n;n++){if(a=r([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(s="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}}function $(t,e){var i;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(i=Math.min(t.date(),A(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t)}function j(e){return null!=e?($(this,e),t.updateOffset(this,!0),this):Y(this,"Month")}function q(){return A(this.year(),this.month())}function Z(t){var e,i=t._a;return i&&-2===d(t).overflow&&(e=i[nn]<0||i[nn]>11?nn:i[an]<1||i[an]>A(i[en],i[nn])?an:i[sn]<0||i[sn]>24||24===i[sn]&&(0!==i[on]||0!==i[rn]||0!==i[hn])?sn:i[on]<0||i[on]>59?on:i[rn]<0||i[rn]>59?rn:i[hn]<0||i[hn]>999?hn:-1,d(t)._overflowDayOfYear&&(en>e||e>an)&&(e=an),d(t).overflow=e),t}function K(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function J(t,e){var i=!0,n=t+"\n"+(new Error).stack;return o(function(){return i&&(K(n),i=!1),e.apply(this,arguments)},e)}function Q(t,e){un[t]||(K(e),un[t]=!0)}function tt(t){var e,i,n=t._i,a=cn.exec(n);if(a){for(d(t).iso=!0,e=0,i=fn.length;i>e;e++)if(fn[e][1].exec(n)){t._f=fn[e][0]+(a[6]||" ");break}for(e=0,i=pn.length;i>e;e++)if(pn[e][1].exec(n)){t._f+=pn[e][0];break}n.match(Zi)&&(t._f+="Z"),yt(t)}else t._isValid=!1}function et(e){var i=mn.exec(e._i);return null!==i?void(e._d=new Date((+i[1]))):(tt(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function it(t,e,i,n,a,s,o){var r=new Date(t,e,i,n,a,s,o);return 1970>t&&r.setFullYear(t),r}function nt(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function at(t){return st(t)?366:365}function st(t){return t%4===0&&t%100!==0||t%400===0}function ot(){return st(this.year())}function rt(t,e,i){var n,a=i-e,s=i-t.day();return s>a&&(s-=7),a-7>s&&(s+=7),n=kt(t).add(s,"d"),{week:Math.ceil(n.dayOfYear()/7),year:n.year()}}function ht(t){return rt(t,this._week.dow,this._week.doy).week}function dt(){return this._week.dow}function lt(){return this._week.doy}function ut(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function ct(t){var e=rt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function ft(t,e,i,n,a){var s,o,r=nt(t,0,1).getUTCDay();return r=0===r?7:r,i=null!=i?i:a,s=a-r+(r>n?7:0)-(a>r?7:0),o=7*(e-1)+(i-a)+s+1,{year:o>0?t:t-1,dayOfYear:o>0?o:at(t-1)+o}}function pt(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function mt(t,e,i){return null!=t?t:null!=e?e:i}function gt(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function vt(t){var e,i,n,a,s=[];if(!t._d){for(n=gt(t),t._w&&null==t._a[an]&&null==t._a[nn]&&wt(t),t._dayOfYear&&(a=mt(t._a[en],n[en]),t._dayOfYear>at(a)&&(d(t)._overflowDayOfYear=!0),i=nt(a,0,t._dayOfYear),t._a[nn]=i.getUTCMonth(),t._a[an]=i.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=s[e]=n[e];for(;7>e;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[sn]&&0===t._a[on]&&0===t._a[rn]&&0===t._a[hn]&&(t._nextDay=!0,t._a[sn]=0),t._d=(t._useUTC?nt:it).apply(null,s),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[sn]=24)}}function wt(t){var e,i,n,a,s,o,r;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(s=1,o=4,i=mt(e.GG,t._a[en],rt(kt(),1,4).year),n=mt(e.W,1),a=mt(e.E,1)):(s=t._locale._week.dow,o=t._locale._week.doy,i=mt(e.gg,t._a[en],rt(kt(),s,o).year),n=mt(e.w,1),null!=e.d?(a=e.d,s>a&&++n):a=null!=e.e?e.e+s:s),r=ft(i,n,a,o,s),t._a[en]=r.year,t._dayOfYear=r.dayOfYear}function yt(e){if(e._f===t.ISO_8601)return void tt(e);e._a=[],d(e).empty=!0;var i,n,a,s,o,r=""+e._i,h=r.length,l=0;for(a=L(e._f,e._locale).match(Ii)||[],i=0;i<a.length;i++)s=a[i],n=(r.match(P(s,e))||[])[0],n&&(o=r.substr(0,r.indexOf(n)),o.length>0&&d(e).unusedInput.push(o),r=r.slice(r.indexOf(n)+n.length),l+=n.length),Pi[s]?(n?d(e).empty=!1:d(e).unusedTokens.push(s),E(s,n,e)):e._strict&&!n&&d(e).unusedTokens.push(s);d(e).charsLeftOver=h-l,r.length>0&&d(e).unusedInput.push(r),d(e).bigHour===!0&&e._a[sn]<=12&&e._a[sn]>0&&(d(e).bigHour=void 0),e._a[sn]=Dt(e._locale,e._a[sn],e._meridiem),vt(e),Z(e)}function Dt(t,e,i){var n;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?(n=t.isPM(i),n&&12>e&&(e+=12),n||12!==e||(e=0),e):e}function _t(t){var e,i,n,a,s;if(0===t._f.length)return d(t).invalidFormat=!0,void(t._d=new Date(NaN));for(a=0;a<t._f.length;a++)s=0,e=c({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[a],yt(e),l(e)&&(s+=d(e).charsLeftOver,s+=10*d(e).unusedTokens.length,d(e).score=s,(null==n||n>s)&&(n=s,i=e));o(t,i||e)}function bt(t){if(!t._d){var e=k(t._i);t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],vt(t)}}function Mt(t){var e,a=t._i,s=t._f;return t._locale=t._locale||M(t._l),null===a||void 0===s&&""===a?u({nullInput:!0}):("string"==typeof a&&(t._i=a=t._locale.preparse(a)),p(a)?new f(Z(a)):(i(s)?_t(t):s?yt(t):n(a)?t._d=a:Ct(t),e=new f(Z(t)),e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e))}function Ct(e){var s=e._i;void 0===s?e._d=new Date:n(s)?e._d=new Date((+s)):"string"==typeof s?et(e):i(s)?(e._a=a(s.slice(0),function(t){return parseInt(t,10)}),vt(e)):"object"==typeof s?bt(e):"number"==typeof s?e._d=new Date(s):t.createFromInputFallback(e)}function Tt(t,e,i,n,a){var s={};return"boolean"==typeof i&&(n=i,i=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=a,s._l=i,s._i=t,s._f=e,s._strict=n,Mt(s)}function kt(t,e,i,n){return Tt(t,e,i,n,!1)}function xt(t,e){var n,a;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return kt();for(n=e[0],a=1;a<e.length;++a)e[a][t](n)&&(n=e[a]);return n}function Yt(){var t=[].slice.call(arguments,0);return xt("isBefore",t)}function Ut(){var t=[].slice.call(arguments,0);return xt("isAfter",t)}function St(t){var e=k(t),i=e.year||0,n=e.quarter||0,a=e.month||0,s=e.week||0,o=e.day||0,r=e.hour||0,h=e.minute||0,d=e.second||0,l=e.millisecond||0;this._milliseconds=+l+1e3*d+6e4*h+36e5*r,this._days=+o+7*s,this._months=+a+3*n+12*i,this._data={},this._locale=M(),this._bubble()}function Ot(t){return t instanceof St}function Ht(t,e){H(t,0,0,function(){var t=this.utcOffset(),i="+";return 0>t&&(t=-t,i="-"),i+O(~~(t/60),2)+e+O(~~t%60,2)})}function Ft(t){var e=(t||"").match(Zi)||[],i=e[e.length-1]||[],n=(i+"").match(Dn)||["-",0,0],a=+(60*n[1])+m(n[2]);return"+"===n[0]?a:-a}function Wt(e,i){var a,s;return i._isUTC?(a=i.clone(),s=(p(e)||n(e)?+e:+kt(e))-+a,a._d.setTime(+a._d+s),t.updateOffset(a,!1),a):kt(e).local()}function It(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Lt(e,i){var n,a=this._offset||0;return null!=e?("string"==typeof e&&(e=Ft(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&i&&(n=It(this)),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),a!==e&&(!i||this._changeInProgress?Jt(this,$t(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?a:It(this)}function Nt(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Pt(t){return this.utcOffset(0,t)}function Vt(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(It(this),"m")),this}function zt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ft(this._i)),this}function Bt(t){return t=t?kt(t).utcOffset():0,(this.utcOffset()-t)%60===0}function Et(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function At(){if(this._a){var t=this._isUTC?r(this._a):kt(this._a);return this.isValid()&&g(this._a,t.toArray())>0}return!1}function Rt(){return!this._isUTC}function Gt(){return this._isUTC}function Xt(){return this._isUTC&&0===this._offset}function $t(t,e){var i,n,a,o=t,r=null;return Ot(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(o={},e?o[e]=t:o.milliseconds=t):(r=_n.exec(t))?(i="-"===r[1]?-1:1,o={y:0,d:m(r[an])*i,h:m(r[sn])*i,m:m(r[on])*i,s:m(r[rn])*i,ms:m(r[hn])*i}):(r=bn.exec(t))?(i="-"===r[1]?-1:1,o={y:jt(r[2],i),M:jt(r[3],i),d:jt(r[4],i),h:jt(r[5],i),m:jt(r[6],i),s:jt(r[7],i),w:jt(r[8],i)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(a=Zt(kt(o.from),kt(o.to)),o={},o.ms=a.milliseconds,o.M=a.months),n=new St(o),Ot(t)&&s(t,"_locale")&&(n._locale=t._locale),n}function jt(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function qt(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function Zt(t,e){var i;return e=Wt(e,t),t.isBefore(e)?i=qt(t,e):(i=qt(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i}function Kt(t,e){return function(i,n){var a,s;return null===n||isNaN(+n)||(Q(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),s=i,i=n,n=s),i="string"==typeof i?+i:i,a=$t(i,n),Jt(this,a,t),this}}function Jt(e,i,n,a){var s=i._milliseconds,o=i._days,r=i._months;a=null==a||a,s&&e._d.setTime(+e._d+s*n),o&&U(e,"Date",Y(e,"Date")+o*n),r&&$(e,Y(e,"Month")+r*n),a&&t.updateOffset(e,o||r)}function Qt(t){var e=t||kt(),i=Wt(e,this).startOf("day"),n=this.diff(i,"days",!0),a=-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse";return this.format(this.localeData().calendar(a,this,kt(e)))}function te(){return new f(this)}function ee(t,e){var i;return e=T("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=p(t)?t:kt(t),+this>+t):(i=p(t)?+t:+kt(t),i<+this.clone().startOf(e))}function ie(t,e){var i;return e=T("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=p(t)?t:kt(t),+t>+this):(i=p(t)?+t:+kt(t),+this.clone().endOf(e)<i)}function ne(t,e,i){return this.isAfter(t,i)&&this.isBefore(e,i)}function ae(t,e){var i;return e=T(e||"millisecond"),"millisecond"===e?(t=p(t)?t:kt(t),+this===+t):(i=+kt(t),+this.clone().startOf(e)<=i&&i<=+this.clone().endOf(e))}function se(t){return 0>t?Math.ceil(t):Math.floor(t)}function oe(t,e,i){var n,a,s=Wt(t,this),o=6e4*(s.utcOffset()-this.utcOffset());return e=T(e),"year"===e||"month"===e||"quarter"===e?(a=re(this,s),"quarter"===e?a/=3:"year"===e&&(a/=12)):(n=this-s,a="second"===e?n/1e3:"minute"===e?n/6e4:"hour"===e?n/36e5:"day"===e?(n-o)/864e5:"week"===e?(n-o)/6048e5:n),i?a:se(a)}function re(t,e){var i,n,a=12*(e.year()-t.year())+(e.month()-t.month()),s=t.clone().add(a,"months");return 0>e-s?(i=t.clone().add(a-1,"months"),n=(e-s)/(s-i)):(i=t.clone().add(a+1,"months"),n=(e-s)/(i-s)),-(a+n)}function he(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function de(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():I(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):I(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function le(e){var i=I(this,e||t.defaultFormat);return this.localeData().postformat(i)}function ue(t,e){return this.isValid()?$t({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ce(t){return this.from(kt(),t)}function fe(t,e){return this.isValid()?$t({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function pe(t){return this.to(kt(),t)}function me(t){var e;return void 0===t?this._locale._abbr:(e=M(t),null!=e&&(this._locale=e),this)}function ge(){return this._locale}function ve(t){switch(t=T(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function we(t){return t=T(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function ye(){return+this._d-6e4*(this._offset||0)}function De(){return Math.floor(+this/1e3)}function _e(){return this._offset?new Date((+this)):this._d}function be(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Me(){return l(this)}function Ce(){return o({},d(this))}function Te(){return d(this).overflow}function ke(t,e){H(0,[t,t.length],0,e)}function xe(t,e,i){return rt(kt([t,11,31+e-i]),e,i).week}function Ye(t){var e=rt(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")}function Ue(t){var e=rt(this,1,4).year;return null==t?e:this.add(t-e,"y")}function Se(){return xe(this.year(),1,4)}function Oe(){var t=this.localeData()._week;return xe(this.year(),t.dow,t.doy)}function He(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Fe(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function We(t){return this._weekdays[t.day()]}function Ie(t){return this._weekdaysShort[t.day()]}function Le(t){return this._weekdaysMin[t.day()]}function Ne(t){var e,i,n;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(i=kt([2e3,1]).day(e),n="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[e]=new RegExp(n.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e}function Pe(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Fe(t,this.localeData()),this.add(t-e,"d")):e}function Ve(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function ze(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)}function Be(t,e){H(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Ee(t,e){return e._meridiemParse}function Ae(t){return"p"===(t+"").toLowerCase().charAt(0)}function Re(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"}function Ge(t){H(0,[t,3],0,"millisecond")}function Xe(){return this._isUTC?"UTC":""}function $e(){return this._isUTC?"Coordinated Universal Time":""}function je(t){return kt(1e3*t)}function qe(){return kt.apply(null,arguments).parseZone()}function Ze(t,e,i){var n=this._calendar[t];return"function"==typeof n?n.call(e,i):n}function Ke(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e}function Je(){return this._invalidDate}function Qe(t){return this._ordinal.replace("%d",t)}function ti(t){return t}function ei(t,e,i,n){var a=this._relativeTime[i];return"function"==typeof a?a(t,e,i,n):a.replace(/%d/i,t)}function ii(t,e){var i=this._relativeTime[t>0?"future":"past"];return"function"==typeof i?i(e):i.replace(/%s/i,e)}function ni(t){var e,i;for(i in t)e=t[i],"function"==typeof e?this[i]=e:this["_"+i]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function ai(t,e,i,n){var a=M(),s=r().set(n,e);return a[i](s,t)}function si(t,e,i,n,a){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return ai(t,e,i,a);var s,o=[];for(s=0;n>s;s++)o[s]=ai(t,s,i,a);return o}function oi(t,e){return si(t,e,"months",12,"month")}function ri(t,e){return si(t,e,"monthsShort",12,"month")}function hi(t,e){return si(t,e,"weekdays",7,"day")}function di(t,e){return si(t,e,"weekdaysShort",7,"day")}function li(t,e){return si(t,e,"weekdaysMin",7,"day")}function ui(){var t=this._data;return this._milliseconds=Rn(this._milliseconds),this._days=Rn(this._days),this._months=Rn(this._months),t.milliseconds=Rn(t.milliseconds),t.seconds=Rn(t.seconds),t.minutes=Rn(t.minutes),t.hours=Rn(t.hours),t.months=Rn(t.months),t.years=Rn(t.years),this}function ci(t,e,i,n){var a=$t(e,i);return t._milliseconds+=n*a._milliseconds,t._days+=n*a._days,t._months+=n*a._months,t._bubble()}function fi(t,e){return ci(this,t,e,1)}function pi(t,e){return ci(this,t,e,-1)}function mi(){var t,e,i,n=this._milliseconds,a=this._days,s=this._months,o=this._data,r=0;return o.milliseconds=n%1e3,t=se(n/1e3),o.seconds=t%60,e=se(t/60),o.minutes=e%60,i=se(e/60),o.hours=i%24,a+=se(i/24),r=se(gi(a)),a-=se(vi(r)),s+=se(a/30),a%=30,r+=se(s/12),s%=12,o.days=a,o.months=s,o.years=r,this}function gi(t){return 400*t/146097}function vi(t){return 146097*t/400}function wi(t){var e,i,n=this._milliseconds;if(t=T(t),"month"===t||"year"===t)return e=this._days+n/864e5,i=this._months+12*gi(e),"month"===t?i:i/12;switch(e=this._days+Math.round(vi(this._months/12)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}}function yi(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*m(this._months/12)}function Di(t){return function(){return this.as(t)}}function _i(t){return t=T(t),this[t+"s"]()}function bi(t){return function(){return this._data[t]}}function Mi(){return se(this.days()/7)}function Ci(t,e,i,n,a){return a.relativeTime(e||1,!!i,t,n)}function Ti(t,e,i){var n=$t(t).abs(),a=oa(n.as("s")),s=oa(n.as("m")),o=oa(n.as("h")),r=oa(n.as("d")),h=oa(n.as("M")),d=oa(n.as("y")),l=a<ra.s&&["s",a]||1===s&&["m"]||s<ra.m&&["mm",s]||1===o&&["h"]||o<ra.h&&["hh",o]||1===r&&["d"]||r<ra.d&&["dd",r]||1===h&&["M"]||h<ra.M&&["MM",h]||1===d&&["y"]||["yy",d];return l[2]=e,l[3]=+t>0,l[4]=i,Ci.apply(null,l)}function ki(t,e){return void 0!==ra[t]&&(void 0===e?ra[t]:(ra[t]=e,!0))}function xi(t){var e=this.localeData(),i=Ti(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)}function Yi(){var t=ha(this.years()),e=ha(this.months()),i=ha(this.days()),n=ha(this.hours()),a=ha(this.minutes()),s=ha(this.seconds()+this.milliseconds()/1e3),o=this.asSeconds();return o?(0>o?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(i?i+"D":"")+(n||a||s?"T":"")+(n?n+"H":"")+(a?a+"M":"")+(s?s+"S":""):"P0D"}var Ui,Si,Oi=t.momentProperties=[],Hi=!1,Fi={},Wi={},Ii=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Li=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ni={},Pi={},Vi=/\d/,zi=/\d\d/,Bi=/\d{3}/,Ei=/\d{4}/,Ai=/[+-]?\d{6}/,Ri=/\d\d?/,Gi=/\d{1,3}/,Xi=/\d{1,4}/,$i=/[+-]?\d{1,6}/,ji=/\d+/,qi=/[+-]?\d+/,Zi=/Z|[+-]\d\d:?\d\d/gi,Ki=/[+-]?\d+(\.\d{1,3})?/,Ji=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Qi={},tn={},en=0,nn=1,an=2,sn=3,on=4,rn=5,hn=6;H("M",["MM",2],"Mo",function(){return this.month()+1}),H("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),H("MMMM",0,0,function(t){return this.localeData().months(this,t)}),C("month","M"),N("M",Ri),N("MM",Ri,zi),N("MMM",Ji),N("MMMM",Ji),z(["M","MM"],function(t,e){e[nn]=m(t)-1}),z(["MMM","MMMM"],function(t,e,i,n){var a=i._locale.monthsParse(t,n,i._strict);null!=a?e[nn]=a:d(i).invalidMonth=t});var dn="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ln="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),un={};
t.suppressDeprecationWarnings=!1;var cn=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],pn=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],mn=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=J("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),H(0,["YY",2],0,function(){return this.year()%100}),H(0,["YYYY",4],0,"year"),H(0,["YYYYY",5],0,"year"),H(0,["YYYYYY",6,!0],0,"year"),C("year","y"),N("Y",qi),N("YY",Ri,zi),N("YYYY",Xi,Ei),N("YYYYY",$i,Ai),N("YYYYYY",$i,Ai),z(["YYYY","YYYYY","YYYYYY"],en),z("YY",function(e,i){i[en]=t.parseTwoDigitYear(e)}),t.parseTwoDigitYear=function(t){return m(t)+(m(t)>68?1900:2e3)};var gn=x("FullYear",!1);H("w",["ww",2],"wo","week"),H("W",["WW",2],"Wo","isoWeek"),C("week","w"),C("isoWeek","W"),N("w",Ri),N("ww",Ri,zi),N("W",Ri),N("WW",Ri,zi),B(["w","ww","W","WW"],function(t,e,i,n){e[n.substr(0,1)]=m(t)});var vn={dow:0,doy:6};H("DDD",["DDDD",3],"DDDo","dayOfYear"),C("dayOfYear","DDD"),N("DDD",Gi),N("DDDD",Bi),z(["DDD","DDDD"],function(t,e,i){i._dayOfYear=m(t)}),t.ISO_8601=function(){};var wn=J("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=kt.apply(null,arguments);return this>t?this:t}),yn=J("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=kt.apply(null,arguments);return t>this?this:t});Ht("Z",":"),Ht("ZZ",""),N("Z",Zi),N("ZZ",Zi),z(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=Ft(t)});var Dn=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var _n=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,bn=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;$t.fn=St.prototype;var Mn=Kt(1,"add"),Cn=Kt(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Tn=J("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});H(0,["gg",2],0,function(){return this.weekYear()%100}),H(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ke("gggg","weekYear"),ke("ggggg","weekYear"),ke("GGGG","isoWeekYear"),ke("GGGGG","isoWeekYear"),C("weekYear","gg"),C("isoWeekYear","GG"),N("G",qi),N("g",qi),N("GG",Ri,zi),N("gg",Ri,zi),N("GGGG",Xi,Ei),N("gggg",Xi,Ei),N("GGGGG",$i,Ai),N("ggggg",$i,Ai),B(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,n){e[n.substr(0,2)]=m(t)}),B(["gg","GG"],function(e,i,n,a){i[a]=t.parseTwoDigitYear(e)}),H("Q",0,0,"quarter"),C("quarter","Q"),N("Q",Vi),z("Q",function(t,e){e[nn]=3*(m(t)-1)}),H("D",["DD",2],"Do","date"),C("date","D"),N("D",Ri),N("DD",Ri,zi),N("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),z(["D","DD"],an),z("Do",function(t,e){e[an]=m(t.match(Ri)[0],10)});var kn=x("Date",!0);H("d",0,"do","day"),H("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),H("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),H("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),H("e",0,0,"weekday"),H("E",0,0,"isoWeekday"),C("day","d"),C("weekday","e"),C("isoWeekday","E"),N("d",Ri),N("e",Ri),N("E",Ri),N("dd",Ji),N("ddd",Ji),N("dddd",Ji),B(["dd","ddd","dddd"],function(t,e,i){var n=i._locale.weekdaysParse(t);null!=n?e.d=n:d(i).invalidWeekday=t}),B(["d","e","E"],function(t,e,i,n){e[n]=m(t)});var xn="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Yn="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Un="Su_Mo_Tu_We_Th_Fr_Sa".split("_");H("H",["HH",2],0,"hour"),H("h",["hh",2],0,function(){return this.hours()%12||12}),Be("a",!0),Be("A",!1),C("hour","h"),N("a",Ee),N("A",Ee),N("H",Ri),N("h",Ri),N("HH",Ri,zi),N("hh",Ri,zi),z(["H","HH"],sn),z(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),z(["h","hh"],function(t,e,i){e[sn]=m(t),d(i).bigHour=!0});var Sn=/[ap]\.?m?\.?/i,On=x("Hours",!0);H("m",["mm",2],0,"minute"),C("minute","m"),N("m",Ri),N("mm",Ri,zi),z(["m","mm"],on);var Hn=x("Minutes",!1);H("s",["ss",2],0,"second"),C("second","s"),N("s",Ri),N("ss",Ri,zi),z(["s","ss"],rn);var Fn=x("Seconds",!1);H("S",0,0,function(){return~~(this.millisecond()/100)}),H(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Ge("SSS"),Ge("SSSS"),C("millisecond","ms"),N("S",Gi,Vi),N("SS",Gi,zi),N("SSS",Gi,Bi),N("SSSS",ji),z(["S","SS","SSS","SSSS"],function(t,e){e[hn]=m(1e3*("0."+t))});var Wn=x("Milliseconds",!1);H("z",0,0,"zoneAbbr"),H("zz",0,0,"zoneName");var In=f.prototype;In.add=Mn,In.calendar=Qt,In.clone=te,In.diff=oe,In.endOf=we,In.format=le,In.from=ue,In.fromNow=ce,In.to=fe,In.toNow=pe,In.get=S,In.invalidAt=Te,In.isAfter=ee,In.isBefore=ie,In.isBetween=ne,In.isSame=ae,In.isValid=Me,In.lang=Tn,In.locale=me,In.localeData=ge,In.max=yn,In.min=wn,In.parsingFlags=Ce,In.set=S,In.startOf=ve,In.subtract=Cn,In.toArray=be,In.toDate=_e,In.toISOString=de,In.toJSON=de,In.toString=he,In.unix=De,In.valueOf=ye,In.year=gn,In.isLeapYear=ot,In.weekYear=Ye,In.isoWeekYear=Ue,In.quarter=In.quarters=He,In.month=j,In.daysInMonth=q,In.week=In.weeks=ut,In.isoWeek=In.isoWeeks=ct,In.weeksInYear=Oe,In.isoWeeksInYear=Se,In.date=kn,In.day=In.days=Pe,In.weekday=Ve,In.isoWeekday=ze,In.dayOfYear=pt,In.hour=In.hours=On,In.minute=In.minutes=Hn,In.second=In.seconds=Fn,In.millisecond=In.milliseconds=Wn,In.utcOffset=Lt,In.utc=Pt,In.local=Vt,In.parseZone=zt,In.hasAlignedHourOffset=Bt,In.isDST=Et,In.isDSTShifted=At,In.isLocal=Rt,In.isUtcOffset=Gt,In.isUtc=Xt,In.isUTC=Xt,In.zoneAbbr=Xe,In.zoneName=$e,In.dates=J("dates accessor is deprecated. Use date instead.",kn),In.months=J("months accessor is deprecated. Use month instead",j),In.years=J("years accessor is deprecated. Use year instead",gn),In.zone=J("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Nt);var Ln=In,Nn={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Pn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},Vn="Invalid date",zn="%d",Bn=/\d{1,2}/,En={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},An=v.prototype;An._calendar=Nn,An.calendar=Ze,An._longDateFormat=Pn,An.longDateFormat=Ke,An._invalidDate=Vn,An.invalidDate=Je,An._ordinal=zn,An.ordinal=Qe,An._ordinalParse=Bn,An.preparse=ti,An.postformat=ti,An._relativeTime=En,An.relativeTime=ei,An.pastFuture=ii,An.set=ni,An.months=R,An._months=dn,An.monthsShort=G,An._monthsShort=ln,An.monthsParse=X,An.week=ht,An._week=vn,An.firstDayOfYear=lt,An.firstDayOfWeek=dt,An.weekdays=We,An._weekdays=xn,An.weekdaysMin=Le,An._weekdaysMin=Un,An.weekdaysShort=Ie,An._weekdaysShort=Yn,An.weekdaysParse=Ne,An.isPM=Ae,An._meridiemParse=Sn,An.meridiem=Re,_("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=1===m(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i}}),t.lang=J("moment.lang is deprecated. Use moment.locale instead.",_),t.langData=J("moment.langData is deprecated. Use moment.localeData instead.",M);var Rn=Math.abs,Gn=Di("ms"),Xn=Di("s"),$n=Di("m"),jn=Di("h"),qn=Di("d"),Zn=Di("w"),Kn=Di("M"),Jn=Di("y"),Qn=bi("milliseconds"),ta=bi("seconds"),ea=bi("minutes"),ia=bi("hours"),na=bi("days"),aa=bi("months"),sa=bi("years"),oa=Math.round,ra={s:45,m:45,h:22,d:26,M:11},ha=Math.abs,da=St.prototype;da.abs=ui,da.add=fi,da.subtract=pi,da.as=wi,da.asMilliseconds=Gn,da.asSeconds=Xn,da.asMinutes=$n,da.asHours=jn,da.asDays=qn,da.asWeeks=Zn,da.asMonths=Kn,da.asYears=Jn,da.valueOf=yi,da._bubble=mi,da.get=_i,da.milliseconds=Qn,da.seconds=ta,da.minutes=ea,da.hours=ia,da.days=na,da.weeks=Mi,da.months=aa,da.years=sa,da.humanize=xi,da.toISOString=Yi,da.toString=Yi,da.toJSON=Yi,da.locale=me,da.localeData=ge,da.toIsoString=J("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Yi),da.lang=Tn,H("X",0,0,"unix"),H("x",0,0,"valueOf"),N("x",qi),N("X",Ki),z("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),z("x",function(t,e,i){i._d=new Date(m(t))}),t.version="2.10.3",e(kt),t.fn=Ln,t.min=Yt,t.max=Ut,t.utc=r,t.unix=je,t.months=oi,t.isDate=n,t.locale=_,t.invalid=u,t.duration=$t,t.isMoment=p,t.weekdays=hi,t.parseZone=qe,t.localeData=M,t.isDuration=Ot,t.monthsShort=ri,t.weekdaysMin=li,t.defineLocale=b,t.weekdaysShort=di,t.normalizeUnits=T,t.relativeTimeThreshold=ki;var la=t;return la}),!function(t){function e(){return new Date(Date.UTC.apply(Date,arguments))}var i=function(e,i){var s=this;this.element=t(e),this.language=i.language||this.element.data("date-language")||"en",this.language=this.language in n?this.language:"en",this.isRTL=n[this.language].rtl||"rtl"==t("body").css("direction"),this.formatType=i.formatType||this.element.data("format-type")||"standard",this.format=a.parseFormat(i.format||this.element.data("date-format")||n[this.language].format||a.getDefaultFormat(this.formatType,"input"),this.formatType),this.isInline=!1,this.isVisible=!1,this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".date-set").parent(),this.componentReset=!!this.element.is(".date")&&this.element.find(".date-reset").parent(),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.linkField=i.linkField||this.element.data("link-field")||!1,this.linkFormat=a.parseFormat(i.linkFormat||this.element.data("link-format")||a.getDefaultFormat(this.formatType,"link"),this.formatType),this.minuteStep=i.minuteStep||this.element.data("minute-step")||5,this.pickerPosition=i.pickerPosition||this.element.data("picker-position")||"bottom-right",this.showMeridian=i.showMeridian||this.element.data("show-meridian")||!1,this.initialDate=i.initialDate||new Date,this._attachEvents(),this.formatViewType="datetime","formatViewType"in i?this.formatViewType=i.formatViewType:"formatViewType"in this.element.data()&&(this.formatViewType=this.element.data("formatViewType")),this.minView=0,"minView"in i?this.minView=i.minView:"minView"in this.element.data()&&(this.minView=this.element.data("min-view")),this.minView=a.convertViewMode(this.minView),this.maxView=a.modes.length-1,"maxView"in i?this.maxView=i.maxView:"maxView"in this.element.data()&&(this.maxView=this.element.data("max-view")),this.maxView=a.convertViewMode(this.maxView),this.wheelViewModeNavigation=!1,"wheelViewModeNavigation"in i?this.wheelViewModeNavigation=i.wheelViewModeNavigation:"wheelViewModeNavigation"in this.element.data()&&(this.wheelViewModeNavigation=this.element.data("view-mode-wheel-navigation")),this.wheelViewModeNavigationInverseDirection=!1,"wheelViewModeNavigationInverseDirection"in i?this.wheelViewModeNavigationInverseDirection=i.wheelViewModeNavigationInverseDirection:"wheelViewModeNavigationInverseDirection"in this.element.data()&&(this.wheelViewModeNavigationInverseDirection=this.element.data("view-mode-wheel-navigation-inverse-dir")),this.wheelViewModeNavigationDelay=100,"wheelViewModeNavigationDelay"in i?this.wheelViewModeNavigationDelay=i.wheelViewModeNavigationDelay:"wheelViewModeNavigationDelay"in this.element.data()&&(this.wheelViewModeNavigationDelay=this.element.data("view-mode-wheel-navigation-delay")),this.startViewMode=2,"startView"in i?this.startViewMode=i.startView:"startView"in this.element.data()&&(this.startViewMode=this.element.data("start-view")),this.startViewMode=a.convertViewMode(this.startViewMode),this.viewMode=this.startViewMode,this.viewSelect=this.minView,"viewSelect"in i?this.viewSelect=i.viewSelect:"viewSelect"in this.element.data()&&(this.viewSelect=this.element.data("view-select")),this.viewSelect=a.convertViewMode(this.viewSelect),this.forceParse=!0,"forceParse"in i?this.forceParse=i.forceParse:"dateForceParse"in this.element.data()&&(this.forceParse=this.element.data("date-force-parse")),this.picker=t(a.template).appendTo(this.isInline?this.element:"body").on({click:t.proxy(this.click,this),mousedown:t.proxy(this.mousedown,this)}),this.wheelViewModeNavigation&&(t.fn.mousewheel?this.picker.on({mousewheel:t.proxy(this.mousewheel,this)}):console.log("Mouse Wheel event is not supported. Please include the jQuery Mouse Wheel plugin before enabling this option")),this.isInline?this.picker.addClass("datetimepicker-inline"):this.picker.addClass("datetimepicker-dropdown-"+this.pickerPosition+" dropdown-menu"),this.isRTL&&(this.picker.addClass("datetimepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("fa-arrow-left fa-arrow-right")),t(document).on("mousedown",function(e){0===t(e.target).closest(".datetimepicker").length&&s.hide()}),this.autoclose=!1,"autoclose"in i?this.autoclose=i.autoclose:"dateAutoclose"in this.element.data()&&(this.autoclose=this.element.data("date-autoclose")),this.keyboardNavigation=!0,"keyboardNavigation"in i?this.keyboardNavigation=i.keyboardNavigation:"dateKeyboardNavigation"in this.element.data()&&(this.keyboardNavigation=this.element.data("date-keyboard-navigation")),this.todayBtn=i.todayBtn||this.element.data("date-today-btn")||!1,this.todayHighlight=i.todayHighlight||this.element.data("date-today-highlight")||!1,this.weekStart=(i.weekStart||this.element.data("date-weekstart")||n[this.language].weekStart||0)%7,this.weekEnd=(this.weekStart+6)%7,this.startDate=-1/0,this.endDate=1/0,this.daysOfWeekDisabled=[],this.setStartDate(i.startDate||this.element.data("date-startdate")),this.setEndDate(i.endDate||this.element.data("date-enddate")),this.setDaysOfWeekDisabled(i.daysOfWeekDisabled||this.element.data("date-days-of-week-disabled")),this.fillDow(),this.fillMonths(),this.update(),this.showMode(),this.isInline&&this.show()};i.prototype={constructor:i,_events:[],_attachEvents:function(){this._detachEvents(),this.isInput?this._events=[[this.element,{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?(this._events=[[this.element.find("input"),{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]],this.componentReset&&this._events.push([this.componentReset,{click:t.proxy(this.reset,this)}])):this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]];for(var e,i,n=0;n<this._events.length;n++)e=this._events[n][0],i=this._events[n][1],e.on(i)},_detachEvents:function(){for(var t,e,i=0;i<this._events.length;i++)t=this._events[i][0],e=this._events[i][1],t.off(e);this._events=[]},show:function(e){this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.forceParse&&this.update(),this.place(),t(window).on("resize",t.proxy(this.place,this)),e&&(e.stopPropagation(),e.preventDefault()),this.isVisible=!0,this.element.trigger({type:"show",date:this.date})},hide:function(){this.isVisible&&(this.isInline||(this.picker.hide(),t(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||t(document).off("mousedown",this.hide),this.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this.isVisible=!1,this.element.trigger({type:"hide",date:this.date})))},remove:function(){this._detachEvents(),this.picker.remove(),delete this.picker,delete this.element.data().datetimepicker},getDate:function(){var t=this.getUTCDate();return new Date(t.getTime()+6e4*t.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(t){this.setUTCDate(new Date(t.getTime()-6e4*t.getTimezoneOffset()))},setUTCDate:function(t){t>=this.startDate&&t<=this.endDate?(this.date=t,this.setValue(),this.viewDate=this.date,this.fill()):this.element.trigger({type:"outOfRange",date:t,startDate:this.startDate,endDate:this.endDate})},setFormat:function(t){this.format=a.parseFormat(t,this.formatType);var e;this.isInput?e=this.element:this.component&&(e=this.element.find("input")),e&&e.val()&&this.setValue()},setValue:function(){var e=this.getFormattedDate();this.isInput?this.element.val(e):(this.component&&this.element.find("input").val(e),this.element.data("date",e)),this.linkField&&t("#"+this.linkField).val(this.getFormattedDate(this.linkFormat))},getFormattedDate:function(t){return void 0==t&&(t=this.format),a.formatDate(this.date,t,this.language,this.formatType)},setStartDate:function(t){this.startDate=t||-1/0,this.startDate!==-1/0&&(this.startDate=a.parseDate(this.startDate,this.format,this.language,this.formatType)),this.update(),this.updateNavArrows()},setEndDate:function(t){this.endDate=t||1/0,1/0!==this.endDate&&(this.endDate=a.parseDate(this.endDate,this.format,this.language,this.formatType)),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(e){this.daysOfWeekDisabled=e||[],t.isArray(this.daysOfWeekDisabled)||(this.daysOfWeekDisabled=this.daysOfWeekDisabled.split(/,\s*/)),this.daysOfWeekDisabled=t.map(this.daysOfWeekDisabled,function(t){return parseInt(t,10)}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var e,i,n,a=parseInt(this.element.parents().filter(function(){return"auto"!=t(this).css("z-index")}).first().css("z-index"))+10;this.component?(e=this.component.offset(),n=e.left,("bottom-left"==this.pickerPosition||"top-left"==this.pickerPosition)&&(n+=this.component.outerWidth()-this.picker.outerWidth())):(e=this.element.offset(),n=e.left),i="top-left"==this.pickerPosition||"top-right"==this.pickerPosition?e.top-this.picker.outerHeight():e.top+this.height,this.picker.css({top:i,left:n,zIndex:a})}},update:function(){var t,e=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(t=arguments[0],e=!0):t=this.element.data("date")||(this.isInput?this.element.val():this.element.find("input").val())||this.initialDate,t||(t=new Date,e=!1),this.date=a.parseDate(t,this.format,this.language,this.formatType),e&&this.setValue(),this.viewDate=this.date<this.startDate?new Date(this.startDate):this.date>this.endDate?new Date(this.endDate):new Date(this.date),this.fill()},fillDow:function(){for(var t=this.weekStart,e="<tr>";t<this.weekStart+7;)e+='<th class="dow">'+n[this.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datetimepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+n[this.language].monthsShort[e++]+"</span>";this.picker.find(".datetimepicker-months td").html(t)},fill:function(){if(null!=this.date&&null!=this.viewDate){var i=new Date(this.viewDate),s=i.getUTCFullYear(),o=i.getUTCMonth(),r=i.getUTCDate(),h=i.getUTCHours(),d=i.getUTCMinutes(),l=this.startDate!==-1/0?this.startDate.getUTCFullYear():-1/0,u=this.startDate!==-1/0?this.startDate.getUTCMonth():-1/0,c=1/0!==this.endDate?this.endDate.getUTCFullYear():1/0,f=1/0!==this.endDate?this.endDate.getUTCMonth():1/0,p=new e(this.date.getUTCFullYear(),this.date.getUTCMonth(),this.date.getUTCDate()).valueOf(),m=new Date;if(this.picker.find(".datetimepicker-days thead th:eq(1)").text(n[this.language].months[o]+" "+s),"time"==this.formatViewType){var g=h%12?h%12:12,v=(10>g?"0":"")+g,w=(10>d?"0":"")+d,y=n[this.language].meridiem[12>h?0:1];this.picker.find(".datetimepicker-hours thead th:eq(1)").text(v+":"+w+" "+y.toUpperCase()),this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(v+":"+w+" "+y.toUpperCase())}else this.picker.find(".datetimepicker-hours thead th:eq(1)").text(r+" "+n[this.language].months[o]+" "+s),this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(r+" "+n[this.language].months[o]+" "+s);this.picker.find("tfoot th.today").text(n[this.language].today).toggle(this.todayBtn!==!1),this.updateNavArrows(),this.fillMonths();var D=e(s,o-1,28,0,0,0,0),_=a.getDaysInMonth(D.getUTCFullYear(),D.getUTCMonth());D.setUTCDate(_),D.setUTCDate(_-(D.getUTCDay()-this.weekStart+7)%7);var b=new Date(D);b.setUTCDate(b.getUTCDate()+42),b=b.valueOf();for(var M,C=[];D.valueOf()<b;)D.getUTCDay()==this.weekStart&&C.push("<tr>"),M="",D.getUTCFullYear()<s||D.getUTCFullYear()==s&&D.getUTCMonth()<o?M+=" old":(D.getUTCFullYear()>s||D.getUTCFullYear()==s&&D.getUTCMonth()>o)&&(M+=" new"),this.todayHighlight&&D.getUTCFullYear()==m.getFullYear()&&D.getUTCMonth()==m.getMonth()&&D.getUTCDate()==m.getDate()&&(M+=" today"),D.valueOf()==p&&(M+=" active"),(D.valueOf()+864e5<=this.startDate||D.valueOf()>this.endDate||-1!==t.inArray(D.getUTCDay(),this.daysOfWeekDisabled))&&(M+=" disabled"),C.push('<td class="day'+M+'">'+D.getUTCDate()+"</td>"),D.getUTCDay()==this.weekEnd&&C.push("</tr>"),D.setUTCDate(D.getUTCDate()+1);this.picker.find(".datetimepicker-days tbody").empty().append(C.join("")),C=[];for(var T="",k="",x="",Y=0;24>Y;Y++){var U=e(s,o,r,Y);M="",U.valueOf()+36e5<=this.startDate||U.valueOf()>this.endDate?M+=" disabled":h==Y&&(M+=" active"),this.showMeridian&&2==n[this.language].meridiem.length?(k=12>Y?n[this.language].meridiem[0]:n[this.language].meridiem[1],k!=x&&(""!=x&&C.push("</fieldset>"),C.push('<fieldset class="hour"><legend>'+k.toUpperCase()+"</legend>")),x=k,T=Y%12?Y%12:12,C.push('<span class="hour'+M+" hour_"+(12>Y?"am":"pm")+'">'+T+"</span>"),23==Y&&C.push("</fieldset>")):(T=Y+":00",C.push('<span class="hour'+M+'">'+T+"</span>"))}this.picker.find(".datetimepicker-hours td").html(C.join("")),C=[],T="",k="",x="";for(var Y=0;60>Y;Y+=this.minuteStep){var U=e(s,o,r,h,Y,0);M="",U.valueOf()<this.startDate||U.valueOf()>this.endDate?M+=" disabled":Math.floor(d/this.minuteStep)==Math.floor(Y/this.minuteStep)&&(M+=" active"),this.showMeridian&&2==n[this.language].meridiem.length?(k=12>h?n[this.language].meridiem[0]:n[this.language].meridiem[1],k!=x&&(""!=x&&C.push("</fieldset>"),C.push('<fieldset class="minute"><legend>'+k.toUpperCase()+"</legend>")),x=k,T=h%12?h%12:12,C.push('<span class="minute'+M+'">'+T+":"+(10>Y?"0"+Y:Y)+"</span>"),59==Y&&C.push("</fieldset>")):(T=Y+":00",C.push('<span class="minute'+M+'">'+h+":"+(10>Y?"0"+Y:Y)+"</span>"))}this.picker.find(".datetimepicker-minutes td").html(C.join(""));var S=this.date.getUTCFullYear(),O=this.picker.find(".datetimepicker-months").find("th:eq(1)").text(s).end().find("span").removeClass("active");S==s&&O.eq(this.date.getUTCMonth()).addClass("active"),(l>s||s>c)&&O.addClass("disabled"),s==l&&O.slice(0,u).addClass("disabled"),s==c&&O.slice(f+1).addClass("disabled"),C="",s=10*parseInt(s/10,10);var H=this.picker.find(".datetimepicker-years").find("th:eq(1)").text(s+"-"+(s+9)).end().find("td");s-=1;for(var Y=-1;11>Y;Y++)C+='<span class="year'+(-1==Y||10==Y?" old":"")+(S==s?" active":"")+(l>s||s>c?" disabled":"")+'">'+s+"</span>",s+=1;H.html(C),this.place()}},updateNavArrows:function(){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth(),n=t.getUTCDate(),a=t.getUTCHours();switch(this.viewMode){case 0:this.startDate!==-1/0&&e<=this.startDate.getUTCFullYear()&&i<=this.startDate.getUTCMonth()&&n<=this.startDate.getUTCDate()&&a<=this.startDate.getUTCHours()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.endDate&&e>=this.endDate.getUTCFullYear()&&i>=this.endDate.getUTCMonth()&&n>=this.endDate.getUTCDate()&&a>=this.endDate.getUTCHours()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:this.startDate!==-1/0&&e<=this.startDate.getUTCFullYear()&&i<=this.startDate.getUTCMonth()&&n<=this.startDate.getUTCDate()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.endDate&&e>=this.endDate.getUTCFullYear()&&i>=this.endDate.getUTCMonth()&&n>=this.endDate.getUTCDate()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 2:this.startDate!==-1/0&&e<=this.startDate.getUTCFullYear()&&i<=this.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.endDate&&e>=this.endDate.getUTCFullYear()&&i>=this.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 3:case 4:this.startDate!==-1/0&&e<=this.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.endDate&&e>=this.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}},mousewheel:function(e){if(e.preventDefault(),e.stopPropagation(),!this.wheelPause){this.wheelPause=!0;var i=e.originalEvent,n=i.wheelDelta,a=n>0?1:0===n?0:-1;this.wheelViewModeNavigationInverseDirection&&(a=-a),this.showMode(a),setTimeout(t.proxy(function(){this.wheelPause=!1},this),this.wheelViewModeNavigationDelay)}},click:function(i){i.stopPropagation(),i.preventDefault();var n=t(i.target).closest("span, td, th, legend");if(1==n.length){if(n.is(".disabled"))return void this.element.trigger({type:"outOfRange",date:this.viewDate,startDate:this.startDate,endDate:this.endDate});switch(n[0].nodeName.toLowerCase()){case"th":switch(n[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var s=a.modes[this.viewMode].navStep*("prev"==n[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveHour(this.viewDate,s);break;case 1:this.viewDate=this.moveDate(this.viewDate,s);break;case 2:this.viewDate=this.moveMonth(this.viewDate,s);break;case 3:case 4:this.viewDate=this.moveYear(this.viewDate,s)}this.fill();break;case"today":var o=new Date;o=e(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),0),this.viewMode=this.startViewMode,this.showMode(0),this._setDate(o),this.fill(),this.autoclose&&this.hide()}break;case"span":if(!n.is(".disabled")){var r=this.viewDate.getUTCFullYear(),h=this.viewDate.getUTCMonth(),d=this.viewDate.getUTCDate(),l=this.viewDate.getUTCHours(),u=this.viewDate.getUTCMinutes(),c=this.viewDate.getUTCSeconds();if(n.is(".month")?(this.viewDate.setUTCDate(1),h=n.parent().find("span").index(n),d=this.viewDate.getUTCDate(),this.viewDate.setUTCMonth(h),this.element.trigger({type:"changeMonth",date:this.viewDate}),this.viewSelect>=3&&this._setDate(e(r,h,d,l,u,c,0))):n.is(".year")?(this.viewDate.setUTCDate(1),r=parseInt(n.text(),10)||0,this.viewDate.setUTCFullYear(r),this.element.trigger({type:"changeYear",date:this.viewDate}),this.viewSelect>=4&&this._setDate(e(r,h,d,l,u,c,0))):n.is(".hour")?(l=parseInt(n.text(),10)||0,(n.hasClass("hour_am")||n.hasClass("hour_pm"))&&(12==l&&n.hasClass("hour_am")?l=0:12!=l&&n.hasClass("hour_pm")&&(l+=12)),this.viewDate.setUTCHours(l),this.element.trigger({type:"changeHour",date:this.viewDate}),this.viewSelect>=1&&this._setDate(e(r,h,d,l,u,c,0))):n.is(".minute")&&(u=parseInt(n.text().substr(n.text().indexOf(":")+1),10)||0,this.viewDate.setUTCMinutes(u),this.element.trigger({type:"changeMinute",date:this.viewDate}),this.viewSelect>=0&&this._setDate(e(r,h,d,l,u,c,0))),0!=this.viewMode){var f=this.viewMode;this.showMode(-1),this.fill(),f==this.viewMode&&this.autoclose&&this.hide()}else this.fill(),this.autoclose&&this.hide()}break;case"td":if(n.is(".day")&&!n.is(".disabled")){var d=parseInt(n.text(),10)||1,r=this.viewDate.getUTCFullYear(),h=this.viewDate.getUTCMonth(),l=this.viewDate.getUTCHours(),u=this.viewDate.getUTCMinutes(),c=this.viewDate.getUTCSeconds();n.is(".old")?0===h?(h=11,r-=1):h-=1:n.is(".new")&&(11==h?(h=0,r+=1):h+=1),this.viewDate.setUTCFullYear(r),this.viewDate.setUTCMonth(h),this.viewDate.setUTCDate(d),this.element.trigger({type:"changeDay",date:this.viewDate}),this.viewSelect>=2&&this._setDate(e(r,h,d,l,u,c,0))}var f=this.viewMode;this.showMode(-1),this.fill(),f==this.viewMode&&this.autoclose&&this.hide()}}},_setDate:function(t,e){e&&"date"!=e||(this.date=t),e&&"view"!=e||(this.viewDate=t),this.fill(),this.setValue();var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&(i.change(),this.autoclose&&(!e||"date"==e)),this.element.trigger({type:"changeDate",date:this.date})},moveMinute:function(t,e){if(!e)return t;var i=new Date(t.valueOf());return i.setUTCMinutes(i.getUTCMinutes()+e*this.minuteStep),i},moveHour:function(t,e){if(!e)return t;var i=new Date(t.valueOf());return i.setUTCHours(i.getUTCHours()+e),i},moveDate:function(t,e){if(!e)return t;var i=new Date(t.valueOf());return i.setUTCDate(i.getUTCDate()+e),i},moveMonth:function(t,e){if(!e)return t;var i,n,a=new Date(t.valueOf()),s=a.getUTCDate(),o=a.getUTCMonth(),r=Math.abs(e);if(e=e>0?1:-1,1==r)n=-1==e?function(){return a.getUTCMonth()==o}:function(){return a.getUTCMonth()!=i},i=o+e,a.setUTCMonth(i),(0>i||i>11)&&(i=(i+12)%12);else{for(var h=0;r>h;h++)a=this.moveMonth(a,e);i=a.getUTCMonth(),a.setUTCDate(s),n=function(){return i!=a.getUTCMonth()}}for(;n();)a.setUTCDate(--s),a.setUTCMonth(i);return a},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.startDate&&t<=this.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))return void(27==t.keyCode&&this.show());var e,i,n,a=!1;switch(t.keyCode){case 27:this.hide(),t.preventDefault();break;case 37:case 39:if(!this.keyboardNavigation)break;e=37==t.keyCode?-1:1,viewMode=this.viewMode,t.ctrlKey?viewMode+=2:t.shiftKey&&(viewMode+=1),4==viewMode?(i=this.moveYear(this.date,e),n=this.moveYear(this.viewDate,e)):3==viewMode?(i=this.moveMonth(this.date,e),n=this.moveMonth(this.viewDate,e)):2==viewMode?(i=this.moveDate(this.date,e),n=this.moveDate(this.viewDate,e)):1==viewMode?(i=this.moveHour(this.date,e),n=this.moveHour(this.viewDate,e)):0==viewMode&&(i=this.moveMinute(this.date,e),n=this.moveMinute(this.viewDate,e)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=n,this.setValue(),this.update(),t.preventDefault(),a=!0);break;case 38:case 40:if(!this.keyboardNavigation)break;e=38==t.keyCode?-1:1,viewMode=this.viewMode,t.ctrlKey?viewMode+=2:t.shiftKey&&(viewMode+=1),4==viewMode?(i=this.moveYear(this.date,e),n=this.moveYear(this.viewDate,e)):3==viewMode?(i=this.moveMonth(this.date,e),n=this.moveMonth(this.viewDate,e)):2==viewMode?(i=this.moveDate(this.date,7*e),n=this.moveDate(this.viewDate,7*e)):1==viewMode?this.showMeridian?(i=this.moveHour(this.date,6*e),n=this.moveHour(this.viewDate,6*e)):(i=this.moveHour(this.date,4*e),n=this.moveHour(this.viewDate,4*e)):0==viewMode&&(i=this.moveMinute(this.date,4*e),n=this.moveMinute(this.viewDate,4*e)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=n,this.setValue(),this.update(),t.preventDefault(),a=!0);break;case 13:if(0!=this.viewMode){var s=this.viewMode;this.showMode(-1),this.fill(),s==this.viewMode&&this.autoclose&&this.hide()}else this.fill(),this.autoclose&&this.hide();t.preventDefault();break;case 9:this.hide()}if(a){var o;this.isInput?o=this.element:this.component&&(o=this.element.find("input")),o&&o.change(),this.element.trigger({type:"changeDate",date:this.date})}},showMode:function(t){if(t){var e=Math.max(0,Math.min(a.modes.length-1,this.viewMode+t));e>=this.minView&&e<=this.maxView&&(this.element.trigger({type:"changeMode",date:this.viewDate,oldViewMode:this.viewMode,newViewMode:e}),this.viewMode=e)}this.picker.find(">div").hide().filter(".datetimepicker-"+a.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()},reset:function(){
this._setDate(null,"date")}},t.fn.datetimepicker=function(e){var n=Array.apply(null,arguments);return n.shift(),this.each(function(){var a=t(this),s=a.data("datetimepicker"),o="object"==typeof e&&e;s||a.data("datetimepicker",s=new i(this,t.extend({},t.fn.datetimepicker.defaults,o))),"string"==typeof e&&"function"==typeof s[e]&&s[e].apply(s,n)})},t.fn.datetimepicker.defaults={},t.fn.datetimepicker.Constructor=i;var n=t.fn.datetimepicker.dates={en:{days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六","星期日"],daysShort:["周日","周一","周二","周三","周四","周五","周六","周日"],daysMin:["日","一","二","三","四","五","六","日"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthsShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],meridiem:["上午","下午"],suffix:[],today:"今天"}},a={modes:[{clsName:"minutes",navFnc:"Hours",navStep:1},{clsName:"hours",navFnc:"Date",navStep:1},{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return 0===t%4&&0!==t%100||0===t%400},getDaysInMonth:function(t,e){return[31,a.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},getDefaultFormat:function(t,e){if("standard"==t)return"input"==e?"yyyy-mm-dd hh:ii":"yyyy-mm-dd hh:ii:ss";if("php"==t)return"input"==e?"Y-m-d H:i":"Y-m-d H:i:s";throw new Error("Invalid format type.")},validParts:function(t){if("standard"==t)return/hh?|HH?|p|P|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g;if("php"==t)return/[dDjlNwzFmMnStyYaABgGhHis]/g;throw new Error("Invalid format type.")},nonpunctuation:/[^ -\/:-@\[-`{-~\t\n\rTZ]+/g,parseFormat:function(t,e){var i=t.replace(this.validParts(e),"\0").split("\0"),n=t.match(this.validParts(e));if(!i||!i.length||!n||0==n.length)throw new Error("Invalid date format.");return{separators:i,parts:n}},parseDate:function(a,s,o,r){if(a instanceof Date){var h=new Date(a.valueOf()-6e4*a.getTimezoneOffset());return h.setMilliseconds(0),h}if(/^\d{4}\-\d{1,2}\-\d{1,2}$/.test(a)&&(s=this.parseFormat("yyyy-mm-dd",r)),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}$/.test(a)&&(s=this.parseFormat("yyyy-mm-dd hh:ii",r)),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}\:\d{1,2}[Z]{0,1}$/.test(a)&&(s=this.parseFormat("yyyy-mm-dd hh:ii:ss",r)),/^[-+]\d+[dmwy]([\s,]+[-+]\d+[dmwy])*$/.test(a)){var d,l,u=/([-+]\d+)([dmwy])/,c=a.match(/([-+]\d+)([dmwy])/g);a=new Date;for(var f=0;f<c.length;f++)switch(d=u.exec(c[f]),l=parseInt(d[1]),d[2]){case"d":a.setUTCDate(a.getUTCDate()+l);break;case"m":a=i.prototype.moveMonth.call(i.prototype,a,l);break;case"w":a.setUTCDate(a.getUTCDate()+7*l);break;case"y":a=i.prototype.moveYear.call(i.prototype,a,l)}return e(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),0)}var p,m,d,c=a&&a.match(this.nonpunctuation)||[],a=new Date(0,0,0,0,0,0,0),g={},v=["hh","h","ii","i","ss","s","yyyy","yy","M","MM","m","mm","D","DD","d","dd","H","HH","p","P"],w={hh:function(t,e){return t.setUTCHours(e)},h:function(t,e){return t.setUTCHours(e)},HH:function(t,e){return t.setUTCHours(12==e?0:e)},H:function(t,e){return t.setUTCHours(12==e?0:e)},ii:function(t,e){return t.setUTCMinutes(e)},i:function(t,e){return t.setUTCMinutes(e)},ss:function(t,e){return t.setUTCSeconds(e)},s:function(t,e){return t.setUTCSeconds(e)},yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!=e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)},p:function(t,e){return t.setUTCHours(1==e?t.getUTCHours()+12:t.getUTCHours())}};if(w.M=w.MM=w.mm=w.m,w.dd=w.d,w.P=w.p,a=e(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds()),c.length==s.parts.length){for(var f=0,y=s.parts.length;y>f;f++){if(p=parseInt(c[f],10),d=s.parts[f],isNaN(p))switch(d){case"MM":m=t(n[o].months).filter(function(){var t=this.slice(0,c[f].length),e=c[f].slice(0,t.length);return t==e}),p=t.inArray(m[0],n[o].months)+1;break;case"M":m=t(n[o].monthsShort).filter(function(){var t=this.slice(0,c[f].length),e=c[f].slice(0,t.length);return t==e}),p=t.inArray(m[0],n[o].monthsShort)+1;break;case"p":case"P":p=t.inArray(c[f].toLowerCase(),n[o].meridiem)}g[d]=p}for(var D,f=0;f<v.length;f++)D=v[f],D in g&&!isNaN(g[D])&&w[D](a,g[D])}return a},formatDate:function(e,i,s,o){if(null==e)return"";var r;if("standard"==o)r={yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear(),m:e.getUTCMonth()+1,M:n[s].monthsShort[e.getUTCMonth()],MM:n[s].months[e.getUTCMonth()],d:e.getUTCDate(),D:n[s].daysShort[e.getUTCDay()],DD:n[s].days[e.getUTCDay()],p:2==n[s].meridiem.length?n[s].meridiem[e.getUTCHours()<12?0:1]:"",h:e.getUTCHours(),i:e.getUTCMinutes(),s:e.getUTCSeconds()},r.H=0==r.h%12?12:r.h%12,r.HH=(r.H<10?"0":"")+r.H,r.P=r.p.toUpperCase(),r.hh=(r.h<10?"0":"")+r.h,r.ii=(r.i<10?"0":"")+r.i,r.ss=(r.s<10?"0":"")+r.s,r.dd=(r.d<10?"0":"")+r.d,r.mm=(r.m<10?"0":"")+r.m;else{if("php"!=o)throw new Error("Invalid format type.");r={y:e.getUTCFullYear().toString().substring(2),Y:e.getUTCFullYear(),F:n[s].months[e.getUTCMonth()],M:n[s].monthsShort[e.getUTCMonth()],n:e.getUTCMonth()+1,t:a.getDaysInMonth(e.getUTCFullYear(),e.getUTCMonth()),j:e.getUTCDate(),l:n[s].days[e.getUTCDay()],D:n[s].daysShort[e.getUTCDay()],w:e.getUTCDay(),N:0==e.getUTCDay()?7:e.getUTCDay(),S:e.getUTCDate()%10<=n[s].suffix.length?n[s].suffix[e.getUTCDate()%10-1]:"",a:2==n[s].meridiem.length?n[s].meridiem[e.getUTCHours()<12?0:1]:"",g:0==e.getUTCHours()%12?12:e.getUTCHours()%12,G:e.getUTCHours(),i:e.getUTCMinutes(),s:e.getUTCSeconds()},r.m=(r.n<10?"0":"")+r.n,r.d=(r.j<10?"0":"")+r.j,r.A=r.a.toString().toUpperCase(),r.h=(r.g<10?"0":"")+r.g,r.H=(r.G<10?"0":"")+r.G,r.i=(r.i<10?"0":"")+r.i,r.s=(r.s<10?"0":"")+r.s}for(var e=[],h=t.extend([],i.separators),d=0,l=i.parts.length;l>d;d++)h.length&&e.push(h.shift()),e.push(r[i.parts[d]]);return e.join("")},convertViewMode:function(t){switch(t){case 4:case"decade":t=4;break;case 3:case"year":t=3;break;case 2:case"month":t=2;break;case 1:case"day":t=1;break;case 0:case"hour":t=0}return t},headTemplate:'<thead><tr><th class="prev"><i class="fa fa-angle-left"/></th><th colspan="5" class="switch"></th><th class="next"><i class="fa fa-angle-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr></tfoot>'};a.template='<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed">'+a.headTemplate+a.contTemplate+a.footTemplate+'</table></div><div class="datetimepicker-hours"><table class=" table-condensed">'+a.headTemplate+a.contTemplate+a.footTemplate+'</table></div><div class="datetimepicker-days"><table class=" table-condensed">'+a.headTemplate+"<tbody></tbody>"+a.footTemplate+'</table></div><div class="datetimepicker-months"><table class="table-condensed">'+a.headTemplate+a.contTemplate+a.footTemplate+'</table></div><div class="datetimepicker-years"><table class="table-condensed">'+a.headTemplate+a.contTemplate+a.footTemplate+"</table></div></div>",t.fn.datetimepicker.DPGlobal=a,t.fn.datetimepicker.noConflict=function(){return t.fn.datetimepicker=old,this},t(document).on("focus.datetimepicker.data-api click.datetimepicker.data-api",'[data-provide="datetimepicker"]',function(e){var i=t(this);i.data("datetimepicker")||(e.preventDefault(),i.datetimepicker("show"))}),t(function(){t('[data-provide="datetimepicker-inline"]').datetimepicker()})}(window.jQuery),function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("Cropper requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function i(t){return oe.call(t).slice(8,-1).toLowerCase()}function n(t){return"number"==typeof t&&!isNaN(t)}function a(t){return"undefined"==typeof t}function s(t){return"object"==typeof t&&null!==t}function o(t){var e,i;if(!s(t))return!1;try{return e=t.constructor,i=e.prototype,e&&i&&re.call(i,"isPrototypeOf")}catch(n){return!1}}function r(t){return"function"===i(t)}function h(t){return K.isArray?K.isArray(t):"array"===i(t)}function d(t,e){return e=e>=0?e:0,K.from?K.from(t).slice(e):he.call(t,e)}function l(t){return"string"==typeof t&&(t=t.trim?t.trim():t.replace(Yt,"$1")),t}function u(t,e){var i,a;if(t&&r(e))if(h(t)||n(t.length))for(a=0,i=t.length;a<i&&e.call(t,t[a],a,t)!==!1;a++);else if(s(t))for(a in t)if(t.hasOwnProperty(a)&&e.call(t,t[a],a,t)===!1)break;return t}function c(t){var e;if(arguments.length>1){if(e=d(arguments),Z.assign)return Z.assign.apply(Z,e);e.shift(),u(e,function(e){u(e,function(e,i){t[i]=e})})}return t}function f(t,e){var i=d(arguments,2);return function(){return t.apply(e,i.concat(d(arguments)))}}function p(t,e){var i=t.style;u(e,function(t,e){kt.test(e)&&n(t)&&(t+="px"),i[e]=t})}function m(t,e){return t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function g(t,e){var i;return n(t.length)?u(t,function(t){g(t,e)}):t.classList?t.classList.add(e):(i=l(t.className),void(i?i.indexOf(e)<0&&(t.className=i+" "+e):t.className=e))}function v(t,e){return n(t.length)?u(t,function(t){v(t,e)}):t.classList?t.classList.remove(e):void(t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,"")))}function w(t,e,i){return n(t.length)?u(t,function(t){w(t,e,i)}):void(i?g(t,e):v(t,e))}function y(t,e){return s(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-"+e)}function D(t,e,i){s(i)&&a(t[e])?t[e]=i:t.dataset?t.dataset[e]=i:t.setAttribute("data-"+e,i)}function _(t,e){s(t[e])?delete t[e]:t.dataset?delete t.dataset[e]:t.removeAttribute("data-"+e)}function b(t,e,i,n){var a=l(e).split(Ut),s=i;return a.length>1?u(a,function(e){b(t,e,i)}):(n&&(i=function(){return M(t,e,i),s.apply(t,arguments)}),void(t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i)))}function M(t,e,i){var n=l(e).split(Ut);return n.length>1?u(n,function(e){M(t,e,i)}):void(t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent&&t.detachEvent("on"+e,i))}function C(t,e,i){var n;return t.dispatchEvent?(r(Event)&&r(CustomEvent)?n=a(i)?new Event(e,{bubbles:!0,cancelable:!0}):new CustomEvent(e,{detail:i,bubbles:!0,cancelable:!0}):a(i)?(n=X.createEvent("Event"),n.initEvent(e,!0,!0)):(n=X.createEvent("CustomEvent"),n.initCustomEvent(e,!0,!0,i)),t.dispatchEvent(n)):t.fireEvent?t.fireEvent("on"+e):void 0}function T(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function k(e){var i,a=e||t.event;return a.target||(a.target=a.srcElement||X),n(a.pageX)||(i=X.documentElement,a.pageX=a.clientX+(t.scrollX||i&&i.scrollLeft||0)-(i&&i.clientLeft||0),a.pageY=a.clientY+(t.scrollY||i&&i.scrollTop||0)-(i&&i.clientTop||0)),a}function x(e){var i=X.documentElement,n=e.getBoundingClientRect();return{left:n.left+(t.scrollX||i&&i.scrollLeft||0)-(i&&i.clientLeft||0),top:n.top+(t.scrollY||i&&i.scrollTop||0)-(i&&i.clientTop||0)}}function Y(t){var e=t.length,i=0,n=0;return e&&(u(t,function(t){i+=t.pageX,n+=t.pageY}),i/=e,n/=e),{pageX:i,pageY:n}}function U(t,e){return t.getElementsByTagName(e)}function S(t,e){return t.getElementsByClassName?t.getElementsByClassName(e):t.querySelectorAll("."+e)}function O(t){return X.createElement(t)}function H(t,e){t.appendChild(e)}function F(t){t.parentNode&&t.parentNode.removeChild(t)}function W(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function I(t){var e=t.match(xt);return e&&(e[1]!==$.protocol||e[2]!==$.hostname||e[3]!==$.port)}function L(t){var e="timestamp="+(new Date).getTime();return t+(t.indexOf("?")===-1?"?":"&")+e}function N(t,e){var i;return t.naturalWidth&&!qt?e(t.naturalWidth,t.naturalHeight):(i=O("img"),i.onload=function(){e(this.width,this.height)},void(i.src=t.src))}function P(t){var e=[],i=t.rotate,a=t.scaleX,s=t.scaleY;return n(i)&&e.push("rotate("+i+"deg)"),n(a)&&n(s)&&e.push("scale("+a+","+s+")"),e.length?e.join(" "):"none"}function V(t,e){var i,n,a=Jt(t.degree)%180,s=(a>90?180-a:a)*ae/180,o=Qt(s),r=te(s),h=t.width,d=t.height,l=t.aspectRatio;return e?(i=h/(r+o/l),n=i/l):(i=h*r+d*o,n=h*o+d*r),{width:i,height:n}}function z(t,e){var i,a,s,o=O("canvas"),r=o.getContext("2d"),h=0,d=0,l=e.naturalWidth,u=e.naturalHeight,c=e.rotate,f=e.scaleX,p=e.scaleY,m=n(f)&&n(p)&&(1!==f||1!==p),g=n(c)&&0!==c,v=g||m,w=l*Jt(f||1),y=u*Jt(p||1);return m&&(i=w/2,a=y/2),g&&(s=V({width:w,height:y,degree:c}),w=s.width,y=s.height,i=w/2,a=y/2),o.width=w,o.height=y,v&&(h=-l/2,d=-u/2,r.save(),r.translate(i,a)),g&&r.rotate(c*ae/180),m&&r.scale(f,p),r.drawImage(t,ne(h),ne(d),ne(l),ne(u)),v&&r.restore(),o}function B(t,e,i){var n="",a=e;for(i+=e;a<i;a++)n+=de(t.getUint8(a));return n}function E(t){var e,i,n,a,s,o,r,h,d,l,u=new DataView(t),c=u.byteLength;if(255===u.getUint8(0)&&216===u.getUint8(1))for(d=2;d<c;){if(255===u.getUint8(d)&&225===u.getUint8(d+1)){r=d;break}d++}if(r&&(i=r+4,n=r+10,"Exif"===B(u,i,4)&&(o=u.getUint16(n),s=18761===o,(s||19789===o)&&42===u.getUint16(n+2,s)&&(a=u.getUint32(n+4,s),a>=8&&(h=n+a)))),h)for(c=u.getUint16(h,s),l=0;l<c;l++)if(d=h+12*l+2,274===u.getUint16(d,s)){d+=8,e=u.getUint16(d,s),qt&&u.setUint16(d,1,s);break}return e}function A(t){var e,i=t.replace(Ot,""),n=atob(i),a=n.length,s=new q(a),o=new Uint8Array(s);for(e=0;e<a;e++)o[e]=n.charCodeAt(e);return s}function R(t){var e,i=new Uint8Array(t),n=i.length,a="";for(e=0;e<n;e++)a+=de(i[e]);return"data:image/jpeg;base64,"+btoa(a)}function G(t,e){var i=this;i.element=t,i.options=c({},G.DEFAULTS,o(e)&&e),i.ready=!1,i.built=!1,i.complete=!1,i.rotated=!1,i.cropped=!1,i.disabled=!1,i.replaced=!1,i.limited=!1,i.wheeling=!1,i.isImg=!1,i.originalUrl="",i.canvasData=null,i.cropBoxData=null,i.previews=null,i.init()}var X=t.document,$=t.location,j=t.navigator,q=t.ArrayBuffer,Z=t.Object,K=t.Array,J=t.String,Q=t.Number,tt=t.Math,et="cropper",it=et+"-modal",nt=et+"-hide",at=et+"-hidden",st=et+"-invisible",ot=et+"-move",rt=et+"-crop",ht=et+"-disabled",dt=et+"-bg",lt="mousedown touchstart pointerdown MSPointerDown",ut="mousemove touchmove pointermove MSPointerMove",ct="mouseup touchend touchcancel pointerup pointercancel MSPointerUp MSPointerCancel",ft="wheel mousewheel DOMMouseScroll",pt="dblclick",mt="resize",gt="error",vt="load",wt="build",yt="built",Dt="cropstart",_t="cropmove",bt="cropend",Mt="crop",Ct="zoom",Tt=/e|w|s|n|se|sw|ne|nw|all|crop|move|zoom/,kt=/width|height|left|top|marginLeft|marginTop/,xt=/^(https?:)\/\/([^\:\/\?#]+):?(\d*)/i,Yt=/^\s+(.*)\s+$/,Ut=/\s+/,St=/^data\:/,Ot=/^data\:([^\;]+)\;base64,/,Ht=/^data\:image\/jpeg.*;base64,/,Ft="preview",Wt="action",It="e",Lt="w",Nt="s",Pt="n",Vt="se",zt="sw",Bt="ne",Et="nw",At="all",Rt="crop",Gt="move",Xt="zoom",$t="none",jt=!!X.createElement("canvas").getContext,qt=j&&/safari/i.test(j.userAgent)&&/apple computer/i.test(j.vendor),Zt=tt.min,Kt=tt.max,Jt=tt.abs,Qt=tt.sin,te=tt.cos,ee=tt.sqrt,ie=tt.round,ne=tt.floor,ae=tt.PI,se=Z.prototype,oe=se.toString,re=se.hasOwnProperty,he=K.prototype.slice,de=J.fromCharCode;G.prototype={constructor:G,init:function(){var t,e=this,i=e.element,n=i.tagName.toLowerCase();if(!y(i,et)){if(D(i,et,e),"img"===n){if(e.isImg=!0,e.originalUrl=t=i.getAttribute("src"),!t)return;t=i.src}else"canvas"===n&&jt&&(t=i.toDataURL());e.load(t)}},load:function(t){var e,i=this,n=i.options,a=i.element;if(t&&(r(n.build)&&b(a,wt,n.build,!0),C(a,wt)!==!1)){if(i.url=t,i.imageData={},!n.checkOrientation||!q)return i.clone();if(St.test(t))return Ht.test(t)?i.read(A(t)):i.clone();e=new XMLHttpRequest,e.onerror=e.onabort=function(){i.clone()},e.onload=function(){i.read(this.response)},e.open("get",t),e.responseType="arraybuffer",e.send()}},read:function(t){var e,i,n,a=this,s=a.options,o=E(t),r=a.imageData;if(o>1)switch(a.url=R(t),o){case 2:i=-1;break;case 3:e=-180;break;case 4:n=-1;break;case 5:e=90,n=-1;break;case 6:e=90;break;case 7:e=90,i=-1;break;case 8:e=-90}s.rotatable&&(r.rotate=e),s.scalable&&(r.scaleX=i,r.scaleY=n),a.clone()},clone:function(){var t,e,i,n,a,s=this,o=s.element,r=s.url;s.options.checkCrossOrigin&&I(r)&&(t=o.crossOrigin,t?e=r:(t="anonymous",e=L(r))),s.crossOrigin=t,s.crossOriginUrl=e,i=O("img"),t&&(i.crossOrigin=t),i.src=e||r,s.image=i,s._start=n=f(s.start,s),s._stop=a=f(s.stop,s),s.isImg?o.complete?s.start():b(o,vt,n):(b(i,vt,n),b(i,gt,a),g(i,nt),o.parentNode.insertBefore(i,o.nextSibling))},start:function(t){var e=this,i=e.isImg?e.element:e.image;t&&(M(i,vt,e._start),M(i,gt,e._stop)),N(i,function(t,i){c(e.imageData,{naturalWidth:t,naturalHeight:i,aspectRatio:t/i}),e.ready=!0,e.build()})},stop:function(){var t=this,e=t.image;M(e,vt,t._start),M(e,gt,t._stop),F(e),t.image=null},build:function(){var t,e,i,n,a,s,o,h=this,d=h.options,l=h.element,u=h.image;h.ready&&(h.built&&h.unbuild(),e=O("div"),e.innerHTML=G.TEMPLATE,h.container=t=l.parentNode,h.cropper=i=S(e,"cropper-container")[0],h.canvas=n=S(i,"cropper-canvas")[0],h.dragBox=a=S(i,"cropper-drag-box")[0],h.cropBox=s=S(i,"cropper-crop-box")[0],h.viewBox=S(i,"cropper-view-box")[0],h.face=o=S(s,"cropper-face")[0],H(n,u),g(l,at),t.insertBefore(i,l.nextSibling),h.isImg||v(u,nt),h.initPreview(),h.bind(),d.aspectRatio=Kt(0,d.aspectRatio)||NaN,d.viewMode=Kt(0,Zt(3,ie(d.viewMode)))||0,d.autoCrop?(h.cropped=!0,d.modal&&g(a,it)):g(s,at),d.guides||g(S(s,"cropper-dashed"),at),d.center||g(S(s,"cropper-center"),at),d.background&&g(i,dt),d.highlight||g(o,st),d.cropBoxMovable&&(g(o,ot),D(o,Wt,At)),d.cropBoxResizable||(g(S(s,"cropper-line"),at),g(S(s,"cropper-point"),at)),h.setDragMode(d.dragMode),h.render(),h.built=!0,h.setData(d.data),setTimeout(function(){r(d.built)&&b(l,yt,d.built,!0),C(l,yt),C(l,Mt,h.getData()),h.complete=!0},0))},unbuild:function(){var t=this;t.built&&(t.built=!1,t.complete=!1,t.initialImageData=null,t.initialCanvasData=null,t.initialCropBoxData=null,t.containerData=null,t.canvasData=null,t.cropBoxData=null,t.unbind(),t.resetPreview(),t.previews=null,t.viewBox=null,t.cropBox=null,t.dragBox=null,t.canvas=null,t.container=null,F(t.cropper),t.cropper=null)},render:function(){var t=this;t.initContainer(),t.initCanvas(),t.initCropBox(),t.renderCanvas(),t.cropped&&t.renderCropBox()},initContainer:function(){var t,e=this,i=e.options,n=e.element,a=e.container,s=e.cropper;g(s,at),v(n,at),e.containerData=t={width:Kt(a.offsetWidth,Q(i.minContainerWidth)||200),height:Kt(a.offsetHeight,Q(i.minContainerHeight)||100)},p(s,{width:t.width,height:t.height}),g(n,at),v(s,at)},initCanvas:function(){var t,e=this,i=e.options.viewMode,n=e.containerData,a=e.imageData,s=90===Jt(a.rotate),o=s?a.naturalHeight:a.naturalWidth,r=s?a.naturalWidth:a.naturalHeight,h=o/r,d=n.width,l=n.height;n.height*h>n.width?3===i?d=n.height*h:l=n.width/h:3===i?l=n.width/h:d=n.height*h,t={naturalWidth:o,naturalHeight:r,aspectRatio:h,width:d,height:l},t.oldLeft=t.left=(n.width-d)/2,t.oldTop=t.top=(n.height-l)/2,e.canvasData=t,e.limited=1===i||2===i,e.limitCanvas(!0,!0),e.initialImageData=c({},a),e.initialCanvasData=c({},t)},limitCanvas:function(t,e){var i,n,a,s,o=this,r=o.options,h=r.viewMode,d=o.containerData,l=o.canvasData,u=l.aspectRatio,c=o.cropBoxData,f=o.cropped&&c;t&&(i=Q(r.minCanvasWidth)||0,n=Q(r.minCanvasHeight)||0,h>1?(i=Kt(i,d.width),n=Kt(n,d.height),3===h&&(n*u>i?i=n*u:n=i/u)):h>0&&(i?i=Kt(i,f?c.width:0):n?n=Kt(n,f?c.height:0):f&&(i=c.width,n=c.height,n*u>i?i=n*u:n=i/u)),i&&n?n*u>i?n=i/u:i=n*u:i?n=i/u:n&&(i=n*u),l.minWidth=i,l.minHeight=n,l.maxWidth=1/0,l.maxHeight=1/0),e&&(h?(a=d.width-l.width,s=d.height-l.height,l.minLeft=Zt(0,a),l.minTop=Zt(0,s),l.maxLeft=Kt(0,a),l.maxTop=Kt(0,s),f&&o.limited&&(l.minLeft=Zt(c.left,c.left+c.width-l.width),l.minTop=Zt(c.top,c.top+c.height-l.height),l.maxLeft=c.left,l.maxTop=c.top,2===h&&(l.width>=d.width&&(l.minLeft=Zt(0,a),l.maxLeft=Kt(0,a)),l.height>=d.height&&(l.minTop=Zt(0,s),l.maxTop=Kt(0,s))))):(l.minLeft=-l.width,l.minTop=-l.height,l.maxLeft=d.width,l.maxTop=d.height))},renderCanvas:function(t){var e,i,n=this,a=n.canvasData,s=n.imageData,o=s.rotate;n.rotated&&(n.rotated=!1,i=V({width:s.width,height:s.height,degree:o}),e=i.width/i.height,e!==a.aspectRatio&&(a.left-=(i.width-a.width)/2,a.top-=(i.height-a.height)/2,a.width=i.width,a.height=i.height,a.aspectRatio=e,a.naturalWidth=s.naturalWidth,a.naturalHeight=s.naturalHeight,o%180&&(i=V({width:s.naturalWidth,height:s.naturalHeight,degree:o}),a.naturalWidth=i.width,a.naturalHeight=i.height),n.limitCanvas(!0,!1))),(a.width>a.maxWidth||a.width<a.minWidth)&&(a.left=a.oldLeft),(a.height>a.maxHeight||a.height<a.minHeight)&&(a.top=a.oldTop),a.width=Zt(Kt(a.width,a.minWidth),a.maxWidth),a.height=Zt(Kt(a.height,a.minHeight),a.maxHeight),n.limitCanvas(!1,!0),a.oldLeft=a.left=Zt(Kt(a.left,a.minLeft),a.maxLeft),a.oldTop=a.top=Zt(Kt(a.top,a.minTop),a.maxTop),p(n.canvas,{width:a.width,height:a.height,left:a.left,top:a.top}),n.renderImage(),n.cropped&&n.limited&&n.limitCropBox(!0,!0),t&&n.output()},renderImage:function(t){var e,i,n,a,s,o=this,r=o.canvasData,h=o.imageData;h.rotate&&(i=V({width:r.width,height:r.height,degree:h.rotate,aspectRatio:h.aspectRatio},!0),n=i.width,a=i.height,e={width:n,height:a,left:(r.width-n)/2,top:(r.height-a)/2}),c(h,e||{width:r.width,height:r.height,left:0,top:0}),s=P(h),p(o.image,{width:h.width,height:h.height,marginLeft:h.left,marginTop:h.top,WebkitTransform:s,msTransform:s,transform:s}),t&&o.output()},initCropBox:function(){var t=this,e=t.options,i=e.aspectRatio,n=Q(e.autoCropArea)||.8,a=t.canvasData,s={width:a.width,height:a.height};i&&(a.height*i>a.width?s.height=s.width/i:s.width=s.height*i),t.cropBoxData=s,t.limitCropBox(!0,!0),s.width=Zt(Kt(s.width,s.minWidth),s.maxWidth),s.height=Zt(Kt(s.height,s.minHeight),s.maxHeight),s.width=Kt(s.minWidth,s.width*n),s.height=Kt(s.minHeight,s.height*n),s.oldLeft=s.left=a.left+(a.width-s.width)/2,s.oldTop=s.top=a.top+(a.height-s.height)/2,t.initialCropBoxData=c({},s)},limitCropBox:function(t,e){var i,n,a,s,o=this,r=o.options,h=r.aspectRatio,d=o.containerData,l=o.canvasData,u=o.cropBoxData,c=o.limited;t&&(i=Q(r.minCropBoxWidth)||0,n=Q(r.minCropBoxHeight)||0,i=Zt(i,d.width),n=Zt(n,d.height),a=Zt(d.width,c?l.width:d.width),s=Zt(d.height,c?l.height:d.height),h&&(i&&n?n*h>i?n=i/h:i=n*h:i?n=i/h:n&&(i=n*h),s*h>a?s=a/h:a=s*h),u.minWidth=Zt(i,a),u.minHeight=Zt(n,s),u.maxWidth=a,u.maxHeight=s),e&&(c?(u.minLeft=Kt(0,l.left),u.minTop=Kt(0,l.top),u.maxLeft=Zt(d.width,l.left+l.width)-u.width,u.maxTop=Zt(d.height,l.top+l.height)-u.height):(u.minLeft=0,u.minTop=0,u.maxLeft=d.width-u.width,u.maxTop=d.height-u.height))},renderCropBox:function(){var t=this,e=t.options,i=t.containerData,n=t.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Zt(Kt(n.width,n.minWidth),n.maxWidth),n.height=Zt(Kt(n.height,n.minHeight),n.maxHeight),t.limitCropBox(!1,!0),n.oldLeft=n.left=Zt(Kt(n.left,n.minLeft),n.maxLeft),n.oldTop=n.top=Zt(Kt(n.top,n.minTop),n.maxTop),e.movable&&e.cropBoxMovable&&D(t.face,Wt,n.width===i.width&&n.height===i.height?Gt:At),p(t.cropBox,{width:n.width,height:n.height,left:n.left,top:n.top}),t.cropped&&t.limited&&t.limitCanvas(!0,!0),t.disabled||t.output()},output:function(){var t=this;t.preview(),t.complete&&C(t.element,Mt,t.getData())},initPreview:function(){var t,e=this,i=e.options.preview,n=O("img"),a=e.crossOrigin,s=a?e.crossOriginUrl:e.url;a&&(n.crossOrigin=a),n.src=s,H(e.viewBox,n),e.image2=n,i&&(e.previews=t=X.querySelectorAll(i),u(t,function(t){var e=O("img");D(t,Ft,{width:t.offsetWidth,height:t.offsetHeight,html:t.innerHTML}),a&&(e.crossOrigin=a),e.src=s,e.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',W(t),H(t,e)}))},resetPreview:function(){u(this.previews,function(t){var e=y(t,Ft);p(t,{width:e.width,height:e.height}),t.innerHTML=e.html,_(t,Ft)})},preview:function(){var t=this,e=t.imageData,i=t.canvasData,n=t.cropBoxData,a=n.width,s=n.height,o=e.width,r=e.height,h=n.left-i.left-e.left,d=n.top-i.top-e.top,l=P(e),f={WebkitTransform:l,msTransform:l,transform:l};t.cropped&&!t.disabled&&(p(t.image2,c({width:o,height:r,marginLeft:-h,marginTop:-d},f)),u(t.previews,function(t){var e=y(t,Ft),i=e.width,n=e.height,l=i,u=n,m=1;a&&(m=i/a,u=s*m),s&&u>n&&(m=n/s,l=a*m,u=n),p(t,{width:l,height:u}),p(U(t,"img")[0],c({width:o*m,height:r*m,marginLeft:-h*m,marginTop:-d*m},f))}))},bind:function(){var e=this,i=e.options,n=e.element,a=e.cropper;r(i.cropstart)&&b(n,Dt,i.cropstart),r(i.cropmove)&&b(n,_t,i.cropmove),r(i.cropend)&&b(n,bt,i.cropend),r(i.crop)&&b(n,Mt,i.crop),r(i.zoom)&&b(n,Ct,i.zoom),b(a,lt,e._cropStart=f(e.cropStart,e)),i.zoomable&&i.zoomOnWheel&&b(a,ft,e._wheel=f(e.wheel,e)),i.toggleDragModeOnDblclick&&b(a,pt,e._dblclick=f(e.dblclick,e)),b(X,ut,e._cropMove=f(e.cropMove,e)),b(X,ct,e._cropEnd=f(e.cropEnd,e)),i.responsive&&b(t,mt,e._resize=f(e.resize,e))},unbind:function(){var e=this,i=e.options,n=e.element,a=e.cropper;r(i.cropstart)&&M(n,Dt,i.cropstart),r(i.cropmove)&&M(n,_t,i.cropmove),r(i.cropend)&&M(n,bt,i.cropend),r(i.crop)&&M(n,Mt,i.crop),r(i.zoom)&&M(n,Ct,i.zoom),M(a,lt,e._cropStart),i.zoomable&&i.zoomOnWheel&&M(a,ft,e._wheel),i.toggleDragModeOnDblclick&&M(a,pt,e._dblclick),M(X,ut,e._cropMove),M(X,ct,e._cropEnd),i.responsive&&M(t,mt,e._resize)},resize:function(){var t,e,i,n=this,a=n.options.restore,s=n.container,o=n.containerData;!n.disabled&&o&&(i=s.offsetWidth/o.width,1===i&&s.offsetHeight===o.height||(a&&(t=n.getCanvasData(),e=n.getCropBoxData()),n.render(),a&&(n.setCanvasData(u(t,function(e,n){t[n]=e*i})),n.setCropBoxData(u(e,function(t,n){e[n]=t*i})))))},dblclick:function(){var t=this;t.disabled||t.setDragMode(m(t.dragBox,rt)?Gt:Rt)},wheel:function(t){var e=this,i=k(t),n=Q(e.options.wheelZoomRatio)||.1,a=1;e.disabled||(T(i),e.wheeling||(e.wheeling=!0,setTimeout(function(){e.wheeling=!1},50),i.deltaY?a=i.deltaY>0?1:-1:i.wheelDelta?a=-i.wheelDelta/120:i.detail&&(a=i.detail>0?1:-1),e.zoom(-a*n,i)))},cropStart:function(t){var e,i,n,a=this,s=a.options,o=k(t),r=o.touches;if(!a.disabled){if(r){if(e=r.length,e>1){if(!s.zoomable||!s.zoomOnTouch||2!==e)return;i=r[1],a.startX2=i.pageX,a.startY2=i.pageY,n=Xt}i=r[0]}if(n=n||y(o.target,Wt),Tt.test(n)){if(C(a.element,Dt,{originalEvent:o,action:n})===!1)return;T(o),a.action=n,a.cropping=!1,a.startX=i?i.pageX:o.pageX,a.startY=i?i.pageY:o.pageY,n===Rt&&(a.cropping=!0,g(a.dragBox,it))}}},cropMove:function(t){var e,i,n=this,a=n.options,s=k(t),o=s.touches,r=n.action;if(!n.disabled){if(o){if(e=o.length,e>1){if(!a.zoomable||!a.zoomOnTouch||2!==e)return;i=o[1],n.endX2=i.pageX,n.endY2=i.pageY}i=o[0]}if(r){if(C(n.element,_t,{originalEvent:s,action:r})===!1)return;T(s),n.endX=i?i.pageX:s.pageX,n.endY=i?i.pageY:s.pageY,n.change(s.shiftKey,r===Xt?s:null)}}},cropEnd:function(t){var e=this,i=e.options,n=k(t),a=e.action;e.disabled||a&&(T(n),e.cropping&&(e.cropping=!1,w(e.dragBox,it,e.cropped&&i.modal)),e.action="",C(e.element,bt,{originalEvent:n,action:a}))},change:function(t,e){var i,n,a=this,s=a.options,o=s.aspectRatio,r=a.action,h=a.containerData,d=a.canvasData,l=a.cropBoxData,u=l.width,c=l.height,f=l.left,p=l.top,m=f+u,g=p+c,w=0,y=0,D=h.width,_=h.height,b=!0;switch(!o&&t&&(o=u&&c?u/c:1),a.limited&&(w=l.minLeft,y=l.minTop,D=w+Zt(h.width,d.left+d.width),_=y+Zt(h.height,d.top+d.height)),n={x:a.endX-a.startX,y:a.endY-a.startY},o&&(n.X=n.y*o,n.Y=n.x/o),r){case At:f+=n.x,p+=n.y;break;case It:if(n.x>=0&&(m>=D||o&&(p<=y||g>=_))){b=!1;break}u+=n.x,o&&(c=u/o,p-=n.Y/2),u<0&&(r=Lt,u=0);break;case Pt:if(n.y<=0&&(p<=y||o&&(f<=w||m>=D))){b=!1;break}c-=n.y,p+=n.y,o&&(u=c*o,f+=n.X/2),c<0&&(r=Nt,c=0);break;case Lt:if(n.x<=0&&(f<=w||o&&(p<=y||g>=_))){b=!1;break}u-=n.x,f+=n.x,o&&(c=u/o,p+=n.Y/2),u<0&&(r=It,u=0);break;case Nt:if(n.y>=0&&(g>=_||o&&(f<=w||m>=D))){b=!1;break}c+=n.y,o&&(u=c*o,f-=n.X/2),c<0&&(r=Pt,c=0);break;case Bt:if(o){if(n.y<=0&&(p<=y||m>=D)){b=!1;break}c-=n.y,p+=n.y,u=c*o}else n.x>=0?m<D?u+=n.x:n.y<=0&&p<=y&&(b=!1):u+=n.x,n.y<=0?p>y&&(c-=n.y,p+=n.y):(c-=n.y,p+=n.y);u<0&&c<0?(r=zt,c=0,u=0):u<0?(r=Et,u=0):c<0&&(r=Vt,c=0);break;case Et:if(o){if(n.y<=0&&(p<=y||f<=w)){b=!1;break}c-=n.y,p+=n.y,u=c*o,f+=n.X}else n.x<=0?f>w?(u-=n.x,f+=n.x):n.y<=0&&p<=y&&(b=!1):(u-=n.x,f+=n.x),n.y<=0?p>y&&(c-=n.y,p+=n.y):(c-=n.y,p+=n.y);u<0&&c<0?(r=Vt,c=0,u=0):u<0?(r=Bt,u=0):c<0&&(r=zt,c=0);break;case zt:if(o){if(n.x<=0&&(f<=w||g>=_)){b=!1;break}u-=n.x,f+=n.x,c=u/o}else n.x<=0?f>w?(u-=n.x,f+=n.x):n.y>=0&&g>=_&&(b=!1):(u-=n.x,f+=n.x),n.y>=0?g<_&&(c+=n.y):c+=n.y;u<0&&c<0?(r=Bt,c=0,u=0):u<0?(r=Vt,u=0):c<0&&(r=Et,c=0);break;case Vt:if(o){if(n.x>=0&&(m>=D||g>=_)){b=!1;break}u+=n.x,c=u/o}else n.x>=0?m<D?u+=n.x:n.y>=0&&g>=_&&(b=!1):u+=n.x,n.y>=0?g<_&&(c+=n.y):c+=n.y;u<0&&c<0?(r=Et,c=0,u=0):u<0?(r=zt,u=0):c<0&&(r=Bt,c=0);break;case Gt:a.move(n.x,n.y),b=!1;break;case Xt:a.zoom(function(t,e,i,n){var a=ee(t*t+e*e),s=ee(i*i+n*n);return(s-a)/a}(Jt(a.startX-a.startX2),Jt(a.startY-a.startY2),Jt(a.endX-a.endX2),Jt(a.endY-a.endY2)),e),a.startX2=a.endX2,a.startY2=a.endY2,b=!1;break;case Rt:if(!n.x||!n.y){b=!1;break}i=x(a.cropper),f=a.startX-i.left,p=a.startY-i.top,u=l.minWidth,c=l.minHeight,n.x>0?r=n.y>0?Vt:Bt:n.x<0&&(f-=u,r=n.y>0?zt:Et),n.y<0&&(p-=c),a.cropped||(v(a.cropBox,at),a.cropped=!0,a.limited&&a.limitCropBox(!0,!0))}b&&(l.width=u,l.height=c,l.left=f,l.top=p,a.action=r,a.renderCropBox()),a.startX=a.endX,a.startY=a.endY},crop:function(){var t=this;return t.built&&!t.disabled&&(t.cropped||(t.cropped=!0,t.limitCropBox(!0,!0),t.options.modal&&g(t.dragBox,it),v(t.cropBox,at)),t.setCropBoxData(t.initialCropBoxData)),t},reset:function(){var t=this;return t.built&&!t.disabled&&(t.imageData=c({},t.initialImageData),t.canvasData=c({},t.initialCanvasData),t.cropBoxData=c({},t.initialCropBoxData),t.renderCanvas(),t.cropped&&t.renderCropBox()),t},clear:function(){var t=this;return t.cropped&&!t.disabled&&(c(t.cropBoxData,{left:0,top:0,width:0,height:0}),t.cropped=!1,t.renderCropBox(),t.limitCanvas(),t.renderCanvas(),v(t.dragBox,it),g(t.cropBox,at)),t},replace:function(t,e){var i=this;return!i.disabled&&t&&(i.isImg&&(i.element.src=t),e?(i.url=t,i.image.src=t,i.built&&(i.image2.src=t,u(i.previews,function(e){U(e,"img")[0].src=t}))):(i.isImg&&(i.replaced=!0),i.options.data=null,i.load(t))),i},enable:function(){var t=this;return t.built&&(t.disabled=!1,v(t.cropper,ht)),t},disable:function(){var t=this;return t.built&&(t.disabled=!0,g(t.cropper,ht)),t},destroy:function(){var t=this,e=t.element,i=t.image;return t.ready?(t.isImg&&t.replaced&&(e.src=t.originalUrl),t.unbuild(),v(e,at)):t.isImg?M(e,vt,t.start):i&&F(i),_(e,et),t},move:function(t,e){var i=this,n=i.canvasData;return i.moveTo(a(t)?t:n.left+Q(t),a(e)?e:n.top+Q(e))},moveTo:function(t,e){var i=this,s=i.canvasData,o=!1;return a(e)&&(e=t),t=Q(t),e=Q(e),i.built&&!i.disabled&&i.options.movable&&(n(t)&&(s.left=t,o=!0),n(e)&&(s.top=e,o=!0),o&&i.renderCanvas(!0)),i},zoom:function(t,e){var i=this,n=i.canvasData;return t=Q(t),t=t<0?1/(1-t):1+t,i.zoomTo(n.width*t/n.naturalWidth,e)},zoomTo:function(t,e){var i,n,a,s,o=this,r=o.options,h=o.canvasData,d=h.width,l=h.height,u=h.naturalWidth,c=h.naturalHeight;if(t=Q(t),t>=0&&o.built&&!o.disabled&&r.zoomable){if(i=u*t,n=c*t,C(o.element,Ct,{originalEvent:e,oldRatio:d/u,ratio:i/u})===!1)return o;e?(a=x(o.cropper),s=e.touches?Y(e.touches):{pageX:e.pageX,pageY:e.pageY},h.left-=(i-d)*((s.pageX-a.left-h.left)/d),h.top-=(n-l)*((s.pageY-a.top-h.top)/l)):(h.left-=(i-d)/2,h.top-=(n-l)/2),h.width=i,h.height=n,o.renderCanvas(!0)}return o},rotate:function(t){var e=this;return e.rotateTo((e.imageData.rotate||0)+Q(t))},rotateTo:function(t){var e=this;return t=Q(t),n(t)&&e.built&&!e.disabled&&e.options.rotatable&&(e.imageData.rotate=t%360,e.rotated=!0,e.renderCanvas(!0)),e},scale:function(t,e){var i=this,s=i.imageData,o=!1;return a(e)&&(e=t),t=Q(t),e=Q(e),i.built&&!i.disabled&&i.options.scalable&&(n(t)&&(s.scaleX=t,o=!0),n(e)&&(s.scaleY=e,o=!0),o&&i.renderImage(!0)),i},scaleX:function(t){var e=this,i=e.imageData.scaleY;return e.scale(t,n(i)?i:1)},scaleY:function(t){var e=this,i=e.imageData.scaleX;return e.scale(n(i)?i:1,t);
},getData:function(t){var e,i,n=this,a=n.options,s=n.imageData,o=n.canvasData,r=n.cropBoxData;return n.built&&n.cropped?(i={x:r.left-o.left,y:r.top-o.top,width:r.width,height:r.height},e=s.width/s.naturalWidth,u(i,function(n,a){n/=e,i[a]=t?ie(n):n})):i={x:0,y:0,width:0,height:0},a.rotatable&&(i.rotate=s.rotate||0),a.scalable&&(i.scaleX=s.scaleX||1,i.scaleY=s.scaleY||1),i},setData:function(t){var e,i,a,s=this,h=s.options,d=s.imageData,l=s.canvasData,u={};return r(t)&&(t=t.call(s.element)),s.built&&!s.disabled&&o(t)&&(h.rotatable&&n(t.rotate)&&t.rotate!==d.rotate&&(d.rotate=t.rotate,s.rotated=e=!0),h.scalable&&(n(t.scaleX)&&t.scaleX!==d.scaleX&&(d.scaleX=t.scaleX,i=!0),n(t.scaleY)&&t.scaleY!==d.scaleY&&(d.scaleY=t.scaleY,i=!0)),e?s.renderCanvas():i&&s.renderImage(),a=d.width/d.naturalWidth,n(t.x)&&(u.left=t.x*a+l.left),n(t.y)&&(u.top=t.y*a+l.top),n(t.width)&&(u.width=t.width*a),n(t.height)&&(u.height=t.height*a),s.setCropBoxData(u)),s},getContainerData:function(){var t=this;return t.built?t.containerData:{}},getImageData:function(){var t=this;return t.ready?t.imageData:{}},getCanvasData:function(){var t=this,e=t.canvasData,i={};return t.built&&u(["left","top","width","height","naturalWidth","naturalHeight"],function(t){i[t]=e[t]}),i},setCanvasData:function(t){var e=this,i=e.canvasData,a=i.aspectRatio;return r(t)&&(t=t.call(e.element)),e.built&&!e.disabled&&o(t)&&(n(t.left)&&(i.left=t.left),n(t.top)&&(i.top=t.top),n(t.width)?(i.width=t.width,i.height=t.width/a):n(t.height)&&(i.height=t.height,i.width=t.height*a),e.renderCanvas(!0)),e},getCropBoxData:function(){var t,e=this,i=e.cropBoxData;return e.built&&e.cropped&&(t={left:i.left,top:i.top,width:i.width,height:i.height}),t||{}},setCropBoxData:function(t){var e,i,a=this,s=a.cropBoxData,h=a.options.aspectRatio;return r(t)&&(t=t.call(a.element)),a.built&&a.cropped&&!a.disabled&&o(t)&&(n(t.left)&&(s.left=t.left),n(t.top)&&(s.top=t.top),n(t.width)&&(e=!0,s.width=t.width),n(t.height)&&(i=!0,s.height=t.height),h&&(e?s.height=s.width/h:i&&(s.width=s.height*h)),a.renderCropBox()),a},getCroppedCanvas:function(t){var e,i,n,a,s,r,h,d,l,u,c,f=this;if(f.built&&f.cropped&&jt)return o(t)||(t={}),c=f.getData(),e=c.width,i=c.height,d=e/i,o(t)&&(s=t.width,r=t.height,s?(r=s/d,h=s/e):r&&(s=r*d,h=r/i)),n=ne(s||e),a=ne(r||i),l=O("canvas"),l.width=n,l.height=a,u=l.getContext("2d"),t.fillColor&&(u.fillStyle=t.fillColor,u.fillRect(0,0,n,a)),u.drawImage.apply(u,function(){var t,n,a,s,o,r,d=z(f.image,f.imageData),l=d.width,u=d.height,p=f.canvasData,m=[d],g=c.x+p.naturalWidth*(Jt(c.scaleX||1)-1)/2,v=c.y+p.naturalHeight*(Jt(c.scaleY||1)-1)/2;return g<=-e||g>l?g=t=a=o=0:g<=0?(a=-g,g=0,t=o=Zt(l,e+g)):g<=l&&(a=0,t=o=Zt(e,l-g)),t<=0||v<=-i||v>u?v=n=s=r=0:v<=0?(s=-v,v=0,n=r=Zt(u,i+v)):v<=u&&(s=0,n=r=Zt(i,u-v)),m.push(ne(g),ne(v),ne(t),ne(n)),h&&(a*=h,s*=h,o*=h,r*=h),o>0&&r>0&&m.push(ne(a),ne(s),ne(o),ne(r)),m}.call(f)),l},setAspectRatio:function(t){var e=this,i=e.options;return e.disabled||a(t)||(i.aspectRatio=Kt(0,t)||NaN,e.built&&(e.initCropBox(),e.cropped&&e.renderCropBox())),e},setDragMode:function(t){var e,i,n=this,a=n.options,s=n.dragBox,o=n.face;return n.ready&&!n.disabled&&(e=t===Rt,i=a.movable&&t===Gt,t=e||i?t:$t,D(s,Wt,t),w(s,rt,e),w(s,ot,i),a.cropBoxMovable||(D(o,Wt,t),w(o,rt,e),w(o,ot,i))),n}},G.DEFAULTS={viewMode:0,dragMode:"crop",aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,build:null,built:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},G.TEMPLATE=function(t,e){return e=e.split(","),t.replace(/\d+/g,function(t){return e[t]})}('<0 6="5-container"><0 6="5-wrap-9"><0 6="5-canvas"></0></0><0 6="5-drag-9"></0><0 6="5-crop-9"><1 6="5-view-9"></1><1 6="5-8 8-h"></1><1 6="5-8 8-v"></1><1 6="5-center"></1><1 6="5-face"></1><1 6="5-7 7-e" 3-2="e"></1><1 6="5-7 7-n" 3-2="n"></1><1 6="5-7 7-w" 3-2="w"></1><1 6="5-7 7-s" 3-2="s"></1><1 6="5-4 4-e" 3-2="e"></1><1 6="5-4 4-n" 3-2="n"></1><1 6="5-4 4-w" 3-2="w"></1><1 6="5-4 4-s" 3-2="s"></1><1 6="5-4 4-ne" 3-2="ne"></1><1 6="5-4 4-nw" 3-2="nw"></1><1 6="5-4 4-sw" 3-2="sw"></1><1 6="5-4 4-se" 3-2="se"></1></0></0>',"div,span,action,data,point,cropper,class,line,dashed,box");var le=t.Cropper;return G.noConflict=function(){return t.Cropper=le,G},G.setDefaults=function(t){c(G.DEFAULTS,t)},"function"==typeof define&&define.amd&&define("cropper",[],function(){return G}),e||(t.Cropper=G),G}),function(){var t=this;!function(){var e,i,n,a,s,o=this,r=!1,h="http://dn-noman.qbox.me/",d={aspectRatio:1,croppedable:!0,finish:function(){},error:function(){}};t.imageCrop=function(t,n){return!!t.length&&(e=t[0],o.domInit(),o.setOpts(n),void o.getImageData(t[0],function(t){o.imageLoad(t,function(){i.src=t,o.cropperInit()})}))},this.domInit=function(){var t=$("#uploadContainer");t.length?t.addClass("active"):($("body").append(o.template()),i=document.getElementById("croppedImage"),a=$("#uploadContainer"),s=$("#uploadConfirm").click(o.confirm),$("#uploadCancel").click(o.cancel))},this.imageLoad=function(t,e){var i=new Image;i.src=t,i.onload=e},this.template=function(){return'<div id="uploadContainer" class="upload-container active"> <div class="image-container"> <div class="preview"> <img id="croppedImage"> </div> <div class="footer"> <a id="uploadConfirm" class="confirm pub-background-transition"><span>确定</span><em></em></a> <a id="uploadCancel" class="cancel pub-background-transition"><span>取消</span></a> </div> </div> </div>'},this.setOpts=function(t){d=$.extend(d,t)},this.cancel=function(){return i.src="",a.removeClass("active")},this.getImageData=function(t,e){var i;if($.isFunction(e))return window.FileReader&&FileReader.prototype.readAsDataURL&&/^image/.test(t.type)?(i=new FileReader,i.onload=function(t){return e(t.target.result)},i.readAsDataURL(t),n=t.type,r=/gif/.test(t.type)):e("")},this.cropper=null,this.cropperInit=function(){return o.cropper&&o.cropper.destroy(),d.croppedable&&!r&&(o.cropper=new Cropper(i,{built:function(){var t=this.cropper,e=t.getContainerData();t.setCropBoxData({left:e.width/4,width:e.width/2})},viewMode:"1",zoomable:!1,movable:!1,rotatable:!1,scalable:!1,aspectRatio:d.aspectRatio,cropBoxResizable:!0}))},this.confirm=function(){s.addClass("loading"),!d.croppedable||r?o.uploadNormal():o.uploadBase64(o.croppedImage())},this.croppedImage=function(){return o.cropper.getCroppedCanvas().toDataURL(n)},this.put64=function(t,e){var i=t,n="http://up.qiniu.com/putb64/-1",a=new XMLHttpRequest;a.onreadystatechange=function(){var t={};if(4==a.readyState){try{t=JSON.parse(a.responseText)}catch(e){d.error("上传失败")}t.key&&o.finish(h+t.key),s.removeClass("loading")}},a.open("POST",n,!0),a.setRequestHeader("Content-Type","application/octet-stream"),a.setRequestHeader("Authorization","UpToken "+e),a.send(i)},this.uploadNormal=function(){imageUploader(function(){},function(){},function(t,e){o.finish(h+e),s.removeClass("loading")},function(t){d.error(t),s.removeClass("loading")}).maxSize(5).upload(e)},this.uploadBase64=function(t){var e=t.split(","),i=e[1];request.get("/qiniu/upload/token",function(t){t.token&&o.put64(i,t.token)})},this.finish=function(t){o.imageLoad(t,function(){o.cancel(),d.finish(t),a.removeClass("active")})}}()}.call(this),function(){var t=this;this.model={el:"#admin-content",data:{background:!1,publish:data.publish,orderby:data.orderby,order:"desc",pagination:{total:data.total,size:10,index:1,btns:[],all:0},list:data.list},methods:{_search:function(){t.page_search()},_size:function(e){t.page_size(e)},_turn:function(e){"number"==typeof e&&t.page_turn(e)},_next:function(){this.pagination.index+1<=this.pagination.all&&t.page_turn(this.pagination.index+1)},_prev:function(){this.pagination.index-1>=1&&t.page_turn(this.pagination.index-1)},_order:function(e){this.orderby=e,this.order="desc"==this.order?"asc":"desc",t.page_order()},_publish:function(e){this.publish=e,t.get_data()},_add:function(){controller_pop.display.add.show()},_edit:function(t){!!t&&controller_pop.display.edit.show(t)},_del:function(e){pop.confirm("确认删除 ?","确定",function(){t.del(e)})}}},this.page_search=function(){t.get_data()},this.page_order=function(){t.get_data()},this.page_turn=function(e){t.model.data.pagination.index=e,t.get_data()},this.page_size=function(e){var i=t.model.data.pagination;i.size=e,i.all=Math.ceil(i.total/i.size),i.index>i.all&&(i.index=i.all),t.get_data()},this.update_pagination_btn=function(){var e=t.model.data.pagination;return e.all=Math.ceil(e.total/e.size),e.btns=t.create_pagination_btn(e.index,e.size,e.total)},this.create_pagination_btn=function(t,e,i){var n,a,s=Math.ceil(i/e),o=[],r=function(t,e){return o.push({active:t,index:e})},h=function(){return o.push({active:!1,index:"..."})};if(s<=7)for(var d=1;d<=s;d++)r(d==t,d);else{n=t-3<1?1:t-3,a=t+3>s?s:t+3,n>1&&r(!1,1),n>2&&h();for(var d=n;d<=a;d++)r(d==t,d);a<s-1&&h(),a<s&&r(!1,s)}return o},this.get_data=function(){var e=t.model.data;request.get("/admin/ad/ads",function(e){e.hasOwnProperty("code")&&0==e.code&&(t.model.data.pagination.total=e.data.total,t.model.data.list=e.data.list,t.update_pagination_btn())},{index:e.pagination.index,size:e.pagination.size,order:e.order,orderby:e.orderby,publish:e.publish})},this.del=function(e){request.get("/admin/ad/del",function(e){e.hasOwnProperty("code")&&0==e.code?t.get_data():pop.error("操作失败","确定")},{id:e})},this.vue=new Vue(t.model),t.update_pagination_btn()}.call(define("controller_admin")),function(){var t=this;this.vue=new Vue({el:"#pop-container",data:{display:"",ad:{id:"",title:"",weight:1,type:1,start:"",end:"",imageone:"",imagetwo:"",text:"",link:""}},methods:{_close:function(){t.display.hide()},_type:function(t){this.ad.type=t},_weight_add:function(){this.ad.weight<10&&this.ad.weight++},_weight_sub:function(){this.ad.weight>1&&this.ad.weight--},_confirm:function(){return""==this.ad.id?t.add():t.update()},_upload_image_one:function(){var e=this.$els.imageone;return e.files?(imageCrop(e.files,{aspectRatio:4/3,croppedable:!0,finish:function(e){t.vue.ad.imageone=e},error:function(t){pop.error(t||"上传失败","确定").one()}}),void(e.value="")):pop.error("浏览器兼容性错误","确定").one()},_upload_image_two:function(){var e=this.$els.imagetwo;return e.files?(imageCrop(e.files,{aspectRatio:8,croppedable:!0,finish:function(e){t.vue.ad.imagetwo=e},error:function(t){pop.error(t||"上传失败","确定").one()}}),void(e.value="")):pop.error("浏览器兼容性错误","确定").one()},_del_image_one:function(){this.ad.imageone=""},_del_image_two:function(){this.ad.imagetwo=""}}}),this.display={add:{show:function(){controller_admin.model.data.background=!0,t.vue.display="add",t.vue.ad.id="",t.vue.ad.type=1,t.vue.ad.weight=1,t.vue.ad.start=moment().format("YYYY-MM-DD HH:mm"),t.vue.ad.end=moment(1e3*(moment().unix()+604800)).format("YYYY-MM-DD HH:mm")}},edit:{show:function(e){request.get("/admin/ad/info",function(i){i.hasOwnProperty("code")&&0==i.code?(controller_admin.model.data.background=!0,t.vue.display="edit",t.vue.ad=$.extend({imageone:"",imagetwo:""},i.data),t.vue.ad.imageone="1"==i.data.type?i.data.image:"",t.vue.ad.imagetwo="3"==i.data.type?i.data.image:"",t.vue.ad.id=e):(t.vue.display="",pop.error(i.msg||"打开失败","确定").one())},{id:e})}},hide:function(){var e=t.vue.ad;controller_admin.model.data.background=!1,t.vue.display="",e.id="",e.type=1,e.weight=1,e.link="",e.imageone="",e.imagetwo="",e.text="",e.title=""}},this.get_form=function(){var e=t.vue.ad;return{id:e.id,title:e.title,image:"2"==e.type?"":"1"==e.type?e.imageone:e.imagetwo,link:e.link,text:e.text,start:e.start,end:e.end,type:e.type,weight:e.weight}},this.check_form=function(e){var i="",n=t.get_form();return""==n.title&&(i="请填写标题"),"2"!=n.type&&""==n.image&&(i="请上传广告图片"),"2"==n.type&&""==n.text&&(i="请填写广告文案"),""==n.link&&(i="请填写广告链接"),moment(n.start).unix()<moment().unix()-1200&&!e&&(i="起始时间小于当前时间"),moment(n.end).unix()<moment(n.start).unix()&&!e&&(i="终止时间小于起始时间"),""==i||(pop.error(i,"确定").one(),!1)},this.add=function(){return!!t.check_form(!1)&&void request.post("/admin/ad/add",function(e){e.hasOwnProperty("code")&&0==e.code?(t.update_list(),t.display.hide()):pop.error("添加失败","确定").one()},t.get_form())},this.update=function(){return!!t.check_form(!0)&&void request.post("/admin/ad/update",function(e){e.hasOwnProperty("code")&&0==e.code?(t.update_list(),t.display.hide()):pop.error("更新失败","确定").one()},t.get_form())},this.update_list=function(){controller_admin.get_data()}}.call(define("controller_pop")),function(){$("#picker-start").datetimepicker({inline:!0,sideBySide:!0}).on("changeDate",function(){controller_pop.vue.ad.start=$(this).data("date")}).datetimepicker("setStartDate",moment(1e3*(moment().unix()-36e3)).format("YYYY-MM-DD")),$("#picker-end").datetimepicker({inline:!0,sideBySide:!0}).on("changeDate",function(){controller_pop.vue.ad.end=$(this).data("date")}).datetimepicker("setEndDate",moment(1e3*(moment().unix()+31536e3)).format("YYYY-MM-DD"))}.call(define("controller_timerpicker"));