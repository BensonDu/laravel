(function(){var t=this;this.w=$(window),this.d=$(document),this.content=$("#site-content"),this.mid=$("#mid"),this.backgound=$("#background"),this.filter=$("#filter"),this.star=$("#star-album"),this.star_contaner=t.star.children(".item-container")}).call(define("dom")),function(){window.view_nav_left.fold=function(){return dom.mid.css("left",60),dom.content.css("padding-left",310),dom.backgound.css("padding-left",310),dom.filter.addClass("trans").removeClass("unfold")},window.view_nav_left.unfold=function(){return dom.mid.css("left",140),dom.content.css("padding-left",390),dom.backgound.css("padding-left",390),dom.filter.addClass("trans").addClass("unfold")}}.call(define("view_page_response")),function(){var t=this;this.filter_fixed=function(){var t=!!dom.filter.length&&dom.filter.offset().top;return function(){return dom.d.scrollTop()>t?dom.filter.addClass("fixed").removeClass("trans"):dom.filter.removeClass("fixed")}},this.scroll_event=function(){dom.w.scroll(t.filter_fixed())},!!dom.star&&t.scroll_event()}.call(define("view_home_page")),function(){global&&global.hasOwnProperty("uid")&&""==global.uid&&request.jsonp(global.platform.home+"/account/status",function(t){t.data&&t.data.login&&(location.href=global.platform.home+"/account/login?redirect="+encodeURIComponent(location.href))})}.call(define("controller_login_syn")),function(t,e){if(!t.initGeetest){var r=e.getElementsByTagName("head")[0],n=location.protocol+"//",o=[],i="init",a=function(){return parseInt(1e4*Math.random())+(new Date).valueOf()},u=function(){for(var t=0,e=o.length;t<e;t+=1)o[t]();o=[]},f=function(){return t.Geetest||e.getElementById("gt_lib")},l=function(t){var o=e.createElement("script");o.charset="UTF-8",o.type="text/javascript",o.onload=o.onreadystatechange=function(){if(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState){if(f())i="loaded",u();else{if(i="fail","function"!=typeof t.onError)throw new Error("网络错误");t.onError()}o.onload=o.onreadystatechange=null}},o.onerror=function(){if(i="fail",o.onerror=null,"function"!=typeof t.onError)throw new Error("网络错误");t.onError()};var a=t.staticservers&&t.staticservers[0]||"static.geetest.com/";o.src=n+a+"static/js/geetest.0.0.0.js",r.appendChild(o)},c=function(o){i="loading";var c="geetest_"+a();t[c]=function(){i="loaded",u(),t[c]=void 0;try{delete t[c]}catch(e){}};var s=e.createElement("script");s.charset="UTF-8",s.type="text/javascript",s.onload=s.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||f()||l(o)},s.onerror=function(){l(o)};var d=o.apiserver||"api.geetest.com/";s.src=n+d+"getfrontlib.php?gt="+o.gt+"&callback="+c,r.appendChild(s)};f()&&(i="loaded"),t.initGeetest=function(e,r){if("string"!=typeof e.gt)throw new Error("");var n=function(){r(new t.Geetest(e))};if("loaded"===i)n();else if("fail"===i){if("function"!=typeof e.onError)throw new Error("网络错误");e.onError()}else"loading"===i?o.push(function(){n()}):"init"===i&&(o.push(function(){n()}),c(e))}}}(window,document),function(){var t,e=this,r=!1;this.start=function(e){t=e,jQuery("#gt-btn").click()},this.load=function(){return!r&&(jQuery(document.body).append('<div id="geetest" class="geetest"></div><div id="gt-btn"></div>'),void request.get("/geetest/start",function(e){initGeetest({gt:e.gt,challenge:e.challenge,product:"popup",offline:!e.success},function(e){jQuery("#gt-btn").click(function(){var r=e.getValidate();return r?void request.post("/geetest/verify",function(e){e.hasOwnProperty("code")&&"0"==e.code&&t()},{geetest_challenge:r.geetest_challenge,geetest_validate:r.geetest_validate,geetest_seccode:r.geetest_seccode}):void pop.error("请完成图片验证","确定").one()}),e.bindOn("#gt-btn"),e.appendTo("#geetest"),r=!0})}))},this.timer=setTimeout(e.load,2e3)}.call(define("libGeetest")),function(t){"use strict";var e=function(t,e,r,n){var o=y(r,e);o.addData(t),o.make(),n=n||0;var i=o.getModuleCount(),a=o.getModuleCount()+2*n,u=function(t,e){return t-=n,e-=n,!(t<0||t>=i||e<0||e>=i)&&o.isDark(t,e)},f=function(t,e,r,n){var o=this.isDark,i=1/a;this.isDark=function(a,u){var f=u*i,l=a*i,c=f+i,s=l+i;return o(a,u)&&(t>c||f>r||e>s||l>n)}};this.text=t,this.level=e,this.version=r,this.moduleCount=a,this.isDark=u,this.addBlank=f},r=function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))}(),n="[object Opera]"!==Object.prototype.toString.call(window.opera),o=function(t,r,n,o,i){n=Math.max(1,n||1),o=Math.min(40,o||40);for(var a=n;a<=o;a+=1)try{return new e(t,r,a,i)}catch(u){}},i=function(e,r,n){var o=n.size,i="bold "+n.mSize*o+"px "+n.fontname,a=t("<canvas/>")[0].getContext("2d");a.font=i;var u=a.measureText(n.label).width,f=n.mSize,l=u/o,c=(1-l)*n.mPosX,s=(1-f)*n.mPosY,d=c+l,g=s+f,h=.01;1===n.mode?e.addBlank(0,s-h,o,g+h):e.addBlank(c-h,s-h,d+h,g+h),r.fillStyle=n.fontcolor,r.font=i,r.fillText(n.label,c*o,s*o+.75*n.mSize*o)},a=function(t,e,r){var n=r.size,o=r.image.naturalWidth||1,i=r.image.naturalHeight||1,a=r.mSize,u=a*o/i,f=(1-u)*r.mPosX,l=(1-a)*r.mPosY,c=f+u,s=l+a,d=.01;3===r.mode?t.addBlank(0,l-d,n,s+d):t.addBlank(f-d,l-d,c+d,s+d),e.drawImage(r.image,f*n,l*n,u*n,a*n)},u=function(e,r,n){t(n.background).is("img")?r.drawImage(n.background,0,0,n.size,n.size):n.background&&(r.fillStyle=n.background,r.fillRect(n.left,n.top,n.size,n.size));var o=n.mode;1===o||2===o?i(e,r,n):3!==o&&4!==o||a(e,r,n)},f=function(t,e,r,n,o,i,a,u){t.isDark(a,u)&&e.rect(n,o,i,i)},l=function(t,e,r,n,o,i,a,u,f,l){a?t.moveTo(e+i,r):t.moveTo(e,r),u?(t.lineTo(n-i,r),t.arcTo(n,r,n,o,i)):t.lineTo(n,r),f?(t.lineTo(n,o-i),t.arcTo(n,o,e,o,i)):t.lineTo(n,o),l?(t.lineTo(e+i,o),t.arcTo(e,o,e,r,i)):t.lineTo(e,o),a?(t.lineTo(e,r+i),t.arcTo(e,r,n,r,i)):t.lineTo(e,r)},c=function(t,e,r,n,o,i,a,u,f,l){a&&(t.moveTo(e+i,r),t.lineTo(e,r),t.lineTo(e,r+i),t.arcTo(e,r,e+i,r,i)),u&&(t.moveTo(n-i,r),t.lineTo(n,r),t.lineTo(n,r+i),t.arcTo(n,r,n-i,r,i)),f&&(t.moveTo(n-i,o),t.lineTo(n,o),t.lineTo(n,o-i),t.arcTo(n,o,n-i,o,i)),l&&(t.moveTo(e+i,o),t.lineTo(e,o),t.lineTo(e,o-i),t.arcTo(e,o,e+i,o,i))},s=function(t,e,r,n,o,i,a,u){var f=t.isDark,s=n+i,d=o+i,g=r.radius*i,h=a-1,v=a+1,m=u-1,p=u+1,w=f(a,u),y=f(h,m),_=f(h,u),b=f(h,p),T=f(a,p),k=f(v,p),E=f(v,u),B=f(v,m),C=f(a,m);w?l(e,n,o,s,d,g,!_&&!C,!_&&!T,!E&&!T,!E&&!C):c(e,n,o,s,d,g,_&&C&&y,_&&T&&b,E&&T&&k,E&&C&&B)},d=function(e,r,o){var i,a,u=e.moduleCount,l=o.size/u,c=f;for(n&&o.radius>0&&o.radius<=.5&&(c=s),r.beginPath(),i=0;i<u;i+=1)for(a=0;a<u;a+=1){var d=o.left+a*l,g=o.top+i*l,h=l;c(e,r,o,d,g,h,i,a)}if(t(o.fill).is("img")){r.strokeStyle="rgba(0,0,0,0.5)",r.lineWidth=2,r.stroke();var v=r.globalCompositeOperation;r.globalCompositeOperation="destination-out",r.fill(),r.globalCompositeOperation=v,r.clip(),r.drawImage(o.fill,0,0,o.size,o.size),r.restore()}else r.fillStyle=o.fill,r.fill()},g=function(e,r){var n=o(r.text,r.ecLevel,r.minVersion,r.maxVersion,r.quiet);if(!n)return null;var i=t(e).data("qrcode",n),a=i[0].getContext("2d");return u(n,a,r),d(n,a,r),i},h=function(e){var r=t("<canvas/>").attr("width",e.size).attr("height",e.size);return g(r,e)},v=function(e){return t("<img/>").attr("src",h(e)[0].toDataURL("image/png"))},m=function(e){var r=o(e.text,e.ecLevel,e.minVersion,e.maxVersion,e.quiet);if(!r)return null;var n,i,a=e.size,u=e.background,f=Math.floor,l=r.moduleCount,c=f(a/l),s=f(.5*(a-c*l)),d={position:"relative",left:0,top:0,padding:0,margin:0,width:a,height:a},g={position:"absolute",padding:0,margin:0,width:c,height:c,"background-color":e.fill},h=t("<div/>").data("qrcode",r).css(d);for(u&&h.css("background-color",u),n=0;n<l;n+=1)for(i=0;i<l;i+=1)r.isDark(n,i)&&t("<div/>").css(g).css({left:s+i*c,top:s+n*c}).appendTo(h);return h},p=function(t){return r&&"canvas"===t.render?h(t):r&&"image"===t.render?v(t):m(t)},w={render:"canvas",minVersion:1,maxVersion:40,ecLevel:"L",left:0,top:0,size:200,fill:"#000",background:null,text:"no text",radius:0,quiet:0,mode:0,mSize:.1,mPosX:.5,mPosY:.5,label:"no label",fontname:"sans",fontcolor:"#000",image:null};t.fn.qrcode=function(e){var r=t.extend({},w,e);return this.each(function(){"canvas"===this.nodeName.toLowerCase()?g(this,r):t(this).append(p(r))})};var y=function(){function t(e,r){if("undefined"==typeof e.length)throw new Error(e.length+"/"+r);var n=function(){for(var t=0;t<e.length&&0==e[t];)t+=1;for(var n=new Array(e.length-t+r),o=0;o<e.length-t;o+=1)n[o]=e[o+t];return n}(),o={};return o.get=function(t){return n[t]},o.getLength=function(){return n.length},o.multiply=function(e){for(var r=new Array(o.getLength()+e.getLength()-1),n=0;n<o.getLength();n+=1)for(var i=0;i<e.getLength();i+=1)r[n+i]^=a.gexp(a.glog(o.get(n))+a.glog(e.get(i)));return t(r,0)},o.mod=function(e){if(o.getLength()-e.getLength()<0)return o;for(var r=a.glog(o.get(0))-a.glog(e.get(0)),n=new Array(o.getLength()),i=0;i<o.getLength();i+=1)n[i]=o.get(i);for(var i=0;i<e.getLength();i+=1)n[i]^=a.gexp(a.glog(e.get(i))+r);return t(n,0).mod(e)},o}var e=function(e,r){var o=236,a=17,c=e,s=n[r],d=null,g=0,v=null,m=new Array,p={},w=function(t,e){g=4*c+17,d=function(t){for(var e=new Array(t),r=0;r<t;r+=1){e[r]=new Array(t);for(var n=0;n<t;n+=1)e[r][n]=null}return e}(g),y(0,0),y(g-7,0),y(0,g-7),T(),b(),E(t,e),c>=7&&k(t),null==v&&(v=A(c,s,m)),B(v,e)},y=function(t,e){for(var r=-1;r<=7;r+=1)if(!(t+r<=-1||g<=t+r))for(var n=-1;n<=7;n+=1)e+n<=-1||g<=e+n||(0<=r&&r<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=n&&n<=4?d[t+r][e+n]=!0:d[t+r][e+n]=!1)},_=function(){for(var t=0,e=0,r=0;r<8;r+=1){w(!0,r);var n=i.getLostPoint(p);(0==r||t>n)&&(t=n,e=r)}return e},b=function(){for(var t=8;t<g-8;t+=1)null==d[t][6]&&(d[t][6]=t%2==0);for(var e=8;e<g-8;e+=1)null==d[6][e]&&(d[6][e]=e%2==0)},T=function(){for(var t=i.getPatternPosition(c),e=0;e<t.length;e+=1)for(var r=0;r<t.length;r+=1){var n=t[e],o=t[r];if(null==d[n][o])for(var a=-2;a<=2;a+=1)for(var u=-2;u<=2;u+=1)a==-2||2==a||u==-2||2==u||0==a&&0==u?d[n+a][o+u]=!0:d[n+a][o+u]=!1}},k=function(t){for(var e=i.getBCHTypeNumber(c),r=0;r<18;r+=1){var n=!t&&1==(e>>r&1);d[Math.floor(r/3)][r%3+g-8-3]=n}for(var r=0;r<18;r+=1){var n=!t&&1==(e>>r&1);d[r%3+g-8-3][Math.floor(r/3)]=n}},E=function(t,e){for(var r=s<<3|e,n=i.getBCHTypeInfo(r),o=0;o<15;o+=1){var a=!t&&1==(n>>o&1);o<6?d[o][8]=a:o<8?d[o+1][8]=a:d[g-15+o][8]=a}for(var o=0;o<15;o+=1){var a=!t&&1==(n>>o&1);o<8?d[8][g-o-1]=a:o<9?d[8][15-o-1+1]=a:d[8][15-o-1]=a}d[g-8][8]=!t},B=function(t,e){for(var r=-1,n=g-1,o=7,a=0,u=i.getMaskFunction(e),f=g-1;f>0;f-=2)for(6==f&&(f-=1);;){for(var l=0;l<2;l+=1)if(null==d[n][f-l]){var c=!1;a<t.length&&(c=1==(t[a]>>>o&1));var s=u(n,f-l);s&&(c=!c),d[n][f-l]=c,o-=1,o==-1&&(a+=1,o=7)}if(n+=r,n<0||g<=n){n-=r,r=-r;break}}},C=function(e,r){for(var n=0,o=0,a=0,u=new Array(r.length),f=new Array(r.length),l=0;l<r.length;l+=1){var c=r[l].dataCount,s=r[l].totalCount-c;o=Math.max(o,c),a=Math.max(a,s),u[l]=new Array(c);for(var d=0;d<u[l].length;d+=1)u[l][d]=255&e.getBuffer()[d+n];n+=c;var g=i.getErrorCorrectPolynomial(s),h=t(u[l],g.getLength()-1),v=h.mod(g);f[l]=new Array(g.getLength()-1);for(var d=0;d<f[l].length;d+=1){var m=d+v.getLength()-f[l].length;f[l][d]=m>=0?v.get(m):0}}for(var p=0,d=0;d<r.length;d+=1)p+=r[d].totalCount;for(var w=new Array(p),y=0,d=0;d<o;d+=1)for(var l=0;l<r.length;l+=1)d<u[l].length&&(w[y]=u[l][d],y+=1);for(var d=0;d<a;d+=1)for(var l=0;l<r.length;l+=1)d<f[l].length&&(w[y]=f[l][d],y+=1);return w},A=function(t,e,r){for(var n=u.getRSBlocks(t,e),l=f(),c=0;c<r.length;c+=1){var s=r[c];l.put(s.getMode(),4),l.put(s.getLength(),i.getLengthInBits(s.getMode(),t)),s.write(l)}for(var d=0,c=0;c<n.length;c+=1)d+=n[c].dataCount;if(l.getLengthInBits()>8*d)throw new Error("code length overflow. ("+l.getLengthInBits()+">"+8*d+")");for(l.getLengthInBits()+4<=8*d&&l.put(0,4);l.getLengthInBits()%8!=0;)l.putBit(!1);for(;;){if(l.getLengthInBits()>=8*d)break;if(l.put(o,8),l.getLengthInBits()>=8*d)break;l.put(a,8)}return C(l,n)};return p.addData=function(t){var e=l(t);m.push(e),v=null},p.isDark=function(t,e){if(t<0||g<=t||e<0||g<=e)throw new Error(t+","+e);return d[t][e]},p.getModuleCount=function(){return g},p.make=function(){w(!1,_())},p.createTableTag=function(t,e){t=t||2,e="undefined"==typeof e?4*t:e;var r="";r+='<table style="',r+=" border-width: 0px; border-style: none;",r+=" border-collapse: collapse;",r+=" padding: 0px; margin: "+e+"px;",r+='">',r+="<tbody>";for(var n=0;n<p.getModuleCount();n+=1){r+="<tr>";for(var o=0;o<p.getModuleCount();o+=1)r+='<td style="',r+=" border-width: 0px; border-style: none;",r+=" border-collapse: collapse;",r+=" padding: 0px; margin: 0px;",r+=" width: "+t+"px;",r+=" height: "+t+"px;",r+=" background-color: ",r+=p.isDark(n,o)?"#000000":"#ffffff",r+=";",r+='"/>';r+="</tr>"}return r+="</tbody>",r+="</table>"},p.createImgTag=function(t,e){t=t||2,e="undefined"==typeof e?4*t:e;var r=p.getModuleCount()*t+2*e,n=e,o=r-e;return h(r,r,function(e,r){if(n<=e&&e<o&&n<=r&&r<o){var i=Math.floor((e-n)/t),a=Math.floor((r-n)/t);return p.isDark(a,i)?0:1}return 1})},p};e.stringToBytes=function(t){for(var e=new Array,r=0;r<t.length;r+=1){var n=t.charCodeAt(r);e.push(255&n)}return e},e.createStringToBytes=function(t,e){var r=function(){for(var r=d(t),n=function(){var t=r.read();if(t==-1)throw new Error;return t},o=0,i={};;){var a=r.read();if(a==-1)break;var u=n(),f=n(),l=n(),c=String.fromCharCode(a<<8|u),s=f<<8|l;i[c]=s,o+=1}if(o!=e)throw new Error(o+" != "+e);return i}(),n="?".charCodeAt(0);return function(t){for(var e=new Array,o=0;o<t.length;o+=1){var i=t.charCodeAt(o);if(i<128)e.push(i);else{var a=r[t.charAt(o)];"number"==typeof a?(255&a)==a?e.push(a):(e.push(a>>>8),e.push(255&a)):e.push(n)}}return e}};var r={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},n={L:1,M:0,Q:3,H:2},o={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},i=function(){var e=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],n=1335,i=7973,u=21522,f={},l=function(t){for(var e=0;0!=t;)e+=1,t>>>=1;return e};return f.getBCHTypeInfo=function(t){for(var e=t<<10;l(e)-l(n)>=0;)e^=n<<l(e)-l(n);return(t<<10|e)^u},f.getBCHTypeNumber=function(t){for(var e=t<<12;l(e)-l(i)>=0;)e^=i<<l(e)-l(i);return t<<12|e},f.getPatternPosition=function(t){return e[t-1]},f.getMaskFunction=function(t){switch(t){case o.PATTERN000:return function(t,e){return(t+e)%2==0};case o.PATTERN001:return function(t,e){return t%2==0};case o.PATTERN010:return function(t,e){return e%3==0};case o.PATTERN011:return function(t,e){return(t+e)%3==0};case o.PATTERN100:return function(t,e){return(Math.floor(t/2)+Math.floor(e/3))%2==0};case o.PATTERN101:return function(t,e){return t*e%2+t*e%3==0};case o.PATTERN110:return function(t,e){return(t*e%2+t*e%3)%2==0};case o.PATTERN111:return function(t,e){return(t*e%3+(t+e)%2)%2==0};default:throw new Error("bad maskPattern:"+t)}},f.getErrorCorrectPolynomial=function(e){for(var r=t([1],0),n=0;n<e;n+=1)r=r.multiply(t([1,a.gexp(n)],0));return r},f.getLengthInBits=function(t,e){if(1<=e&&e<10)switch(t){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:return 8;case r.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},f.getLostPoint=function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n+=1)for(var o=0;o<e;o+=1){for(var i=0,a=t.isDark(n,o),u=-1;u<=1;u+=1)if(!(n+u<0||e<=n+u))for(var f=-1;f<=1;f+=1)o+f<0||e<=o+f||0==u&&0==f||a==t.isDark(n+u,o+f)&&(i+=1);i>5&&(r+=3+i-5)}for(var n=0;n<e-1;n+=1)for(var o=0;o<e-1;o+=1){var l=0;t.isDark(n,o)&&(l+=1),t.isDark(n+1,o)&&(l+=1),t.isDark(n,o+1)&&(l+=1),t.isDark(n+1,o+1)&&(l+=1),0!=l&&4!=l||(r+=3)}for(var n=0;n<e;n+=1)for(var o=0;o<e-6;o+=1)t.isDark(n,o)&&!t.isDark(n,o+1)&&t.isDark(n,o+2)&&t.isDark(n,o+3)&&t.isDark(n,o+4)&&!t.isDark(n,o+5)&&t.isDark(n,o+6)&&(r+=40);for(var o=0;o<e;o+=1)for(var n=0;n<e-6;n+=1)t.isDark(n,o)&&!t.isDark(n+1,o)&&t.isDark(n+2,o)&&t.isDark(n+3,o)&&t.isDark(n+4,o)&&!t.isDark(n+5,o)&&t.isDark(n+6,o)&&(r+=40);for(var c=0,o=0;o<e;o+=1)for(var n=0;n<e;n+=1)t.isDark(n,o)&&(c+=1);var s=Math.abs(100*c/e/e-50)/5;return r+=10*s},f}(),a=function(){for(var t=new Array(256),e=new Array(256),r=0;r<8;r+=1)t[r]=1<<r;for(var r=8;r<256;r+=1)t[r]=t[r-4]^t[r-5]^t[r-6]^t[r-8];for(var r=0;r<255;r+=1)e[t[r]]=r;var n={};return n.glog=function(t){if(t<1)throw new Error("glog("+t+")");return e[t]},n.gexp=function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return t[e]},n}(),u=function(){var t=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e=function(t,e){var r={};return r.totalCount=t,r.dataCount=e,r},r={},o=function(e,r){switch(r){case n.L:return t[4*(e-1)+0];case n.M:return t[4*(e-1)+1];case n.Q:return t[4*(e-1)+2];case n.H:return t[4*(e-1)+3];default:return}};return r.getRSBlocks=function(t,r){var n=o(t,r);if("undefined"==typeof n)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+r);for(var i=n.length/3,a=new Array,u=0;u<i;u+=1)for(var f=n[3*u+0],l=n[3*u+1],c=n[3*u+2],s=0;s<f;s+=1)a.push(e(l,c));return a},r}(),f=function(){var t=new Array,e=0,r={};return r.getBuffer=function(){return t},r.get=function(e){var r=Math.floor(e/8);return 1==(t[r]>>>7-e%8&1)},r.put=function(t,e){for(var n=0;n<e;n+=1)r.putBit(1==(t>>>e-n-1&1))},r.getLengthInBits=function(){return e},r.putBit=function(r){var n=Math.floor(e/8);t.length<=n&&t.push(0),r&&(t[n]|=128>>>e%8),e+=1},r},l=function(t){var n=r.MODE_8BIT_BYTE,o=e.stringToBytes(t),i={};return i.getMode=function(){return n},i.getLength=function(t){return o.length},i.write=function(t){for(var e=0;e<o.length;e+=1)t.put(o[e],8)},i},c=function(){var t=new Array,e={};return e.writeByte=function(e){t.push(255&e)},e.writeShort=function(t){e.writeByte(t),e.writeByte(t>>>8)},e.writeBytes=function(t,r,n){r=r||0,n=n||t.length;for(var o=0;o<n;o+=1)e.writeByte(t[o+r])},e.writeString=function(t){for(var r=0;r<t.length;r+=1)e.writeByte(t.charCodeAt(r))},e.toByteArray=function(){return t},e.toString=function(){var e="";e+="[";for(var r=0;r<t.length;r+=1)r>0&&(e+=","),e+=t[r];return e+="]"},e},s=function(){var t=0,e=0,r=0,n="",o={},i=function(t){n+=String.fromCharCode(a(63&t))},a=function(t){if(t<0);else{if(t<26)return 65+t;if(t<52)return 97+(t-26);if(t<62)return 48+(t-52);if(62==t)return 43;if(63==t)return 47}throw new Error("n:"+t)};return o.writeByte=function(n){for(t=t<<8|255&n,e+=8,r+=1;e>=6;)i(t>>>e-6),e-=6},o.flush=function(){if(e>0&&(i(t<<6-e),t=0,e=0),r%3!=0)for(var o=3-r%3,a=0;a<o;a+=1)n+="="},o.toString=function(){return n},o},d=function(t){var e=t,r=0,n=0,o=0,i={};i.read=function(){for(;o<8;){if(r>=e.length){if(0==o)return-1;throw new Error("unexpected end of file./"+o)}var t=e.charAt(r);if(r+=1,"="==t)return o=0,-1;t.match(/^\s$/)||(n=n<<6|a(t.charCodeAt(0)),o+=6)}var i=n>>>o-8&255;return o-=8,i};var a=function(t){if(65<=t&&t<=90)return t-65;if(97<=t&&t<=122)return t-97+26;if(48<=t&&t<=57)return t-48+52;if(43==t)return 62;if(47==t)return 63;throw new Error("c:"+t)};return i},g=function(t,e){var r=t,n=e,o=new Array(t*e),i={};i.setPixel=function(t,e,n){o[e*r+t]=n},i.write=function(t){t.writeString("GIF87a"),t.writeShort(r),t.writeShort(n),t.writeByte(128),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(255),t.writeByte(255),t.writeByte(255),t.writeString(","),t.writeShort(0),t.writeShort(0),t.writeShort(r),t.writeShort(n),t.writeByte(0);var e=2,o=u(e);t.writeByte(e);for(var i=0;o.length-i>255;)t.writeByte(255),t.writeBytes(o,i,255),i+=255;t.writeByte(o.length-i),t.writeBytes(o,i,o.length-i),t.writeByte(0),t.writeString(";")};var a=function(t){var e=t,r=0,n=0,o={};return o.write=function(t,o){if(t>>>o!=0)throw new Error("length over");for(;r+o>=8;)e.writeByte(255&(t<<r|n)),o-=8-r,t>>>=8-r,n=0,r=0;n=t<<r|n,r+=o},o.flush=function(){r>0&&e.writeByte(n)},o},u=function(t){for(var e=1<<t,r=(1<<t)+1,n=t+1,i=f(),u=0;u<e;u+=1)i.add(String.fromCharCode(u));i.add(String.fromCharCode(e)),i.add(String.fromCharCode(r));var l=c(),s=a(l);s.write(e,n);var d=0,g=String.fromCharCode(o[d]);for(d+=1;d<o.length;){var h=String.fromCharCode(o[d]);d+=1,i.contains(g+h)?g+=h:(s.write(i.indexOf(g),n),i.size()<4095&&(i.size()==1<<n&&(n+=1),i.add(g+h)),g=h)}return s.write(i.indexOf(g),n),s.write(r,n),s.flush(),l.toByteArray()},f=function(){var t={},e=0,r={};return r.add=function(n){if(r.contains(n))throw new Error("dup key:"+n);t[n]=e,e+=1},r.size=function(){return e},r.indexOf=function(e){return t[e]},r.contains=function(e){return"undefined"!=typeof t[e]},r};return i},h=function(t,e,r,n){for(var o=g(t,e),i=0;i<e;i+=1)for(var a=0;a<t;a+=1)o.setPixel(a,i,r(a,i));var u=c();o.write(u);for(var f=s(),l=u.toByteArray(),d=0;d<l.length;d+=1)f.writeByte(l[d]);f.flush();var h="";return h+="<img",h+=' src="',h+="data:image/gif;base64,",h+=f,h+='"',h+=' width="',h+=t,h+='"',h+=' height="',h+=e,h+='"',n&&(h+=' alt="',h+=n,h+='"'),h+="/>"};return e}()}(jQuery),function(){var t=this,e=location.pathname.match(/\d{3,10}/)[0],r=global.platform.home+"/account/login?redirect="+encodeURIComponent(location.href),n=!1;this.vue=new Vue({el:"#detail-handle",data:{like:data.like,favorite:data.favorite,likes:data.likes,favorites:data.favorites,qr:"http://dn-acac.qbox.me/tech2ipoqrcode.jpg"},methods:{_like:function(){t.like()},_favorite:function(){t.fav()},_qr:function(){!n&&t.qr()}}}),this.like=function(){request.get("/social/like",function(e){e.hasOwnProperty("code")&&(0==e.code?(t.vue.like="LIKE"==e.data.valid,t.vue.likes=e.data.count):40003==e.code&&t.login())},{id:e})},this.fav=function(){request.get("/social/favorite",function(e){e.hasOwnProperty("code")&&(0==e.code?(t.vue.favorite="FAV"==e.data.valid,t.vue.favorites=e.data.count):40003==e.code&&t.login())},{id:e})},this.login=function(){pop.confirm("操作首先需登录","前往登录",function(){location.href=r},"返回")},this.qr=function(){var t=$("#qr-container"),e=location.href.split("?")[0];t.qrcode({render:"image",width:200,height:200,color:"#3a3",text:e,showCloseButton:!1}),n=!0}}.call(define("c_handle")),function(){var t=this,e={id:data.site.id,name:data.site.name},r={id:global.user.id,avatar:global.user.avatar||"http://dn-noman.qbox.me/question%20mark.png",name:global.user.name,role:global.user.role},n=global.platform.home+"/account/login?redirect="+encodeURIComponent(location.href),o=navigator.userAgent.indexOf("Mac OS X")!=-1?"Command + Enter 键回复":"Ctrl + Enter 键回复",i=!1;return"1"==data.comment&&(this.save=[],this.vue=new Vue({el:"#comment-container",data:{site:e,user:r,orderby:"hot",reply:!1,input:"",list:[],shortcut:o},methods:{_login:function(){location.href=n},_like:function(e,r,n,o){t.comment_like(e,n,function(){"undefined"==typeof o?t.vue.list[r].like=n:t.vue.list[r].replies[o].like=n})},_del:function(e,r){return t.comment_delete(e,function(){"undefined"!=typeof r?t.vue._comment_fold(r,1):t.update_comment()})},_hide:function(e,r){return t.comment_hide(e,function(){"undefined"!=typeof r?t.vue._comment_fold(r,1):t.update_comment()})},_multi_key:function(t,e,r){if((t.ctrlKey||t.metaKey)&&13==event.keyCode){if("undefined"==typeof e)return this._submit();if("undefined"==typeof r)return this._reply_submit(e);if("undefined"!=typeof r)return this._reply_submit(e,r)}},_submit:function(){t.comment_submit(0,this.input,function(){t.vue.input="",t.update_comment()})},_reply_submit:function(e,r){"undefined"!=typeof r?t.comment_submit(this.list[e].replies[r].id,this.list[e].replies[r].reply_input,function(){t.vue.list[e].replies[r].reply_fold=0,t.vue.list[e].replies[r].reply_input="",t.vue._comment_fold(e,1)}):t.comment_submit(this.list[e].id,this.list[e].reply_input,function(){t.vue.list[e].reply_fold=0,t.vue.list[e].reply_input="",t.vue._comment_fold(e,1)})},_reply_fold:function(t,e){if(""==r.id)return pop.confirm("操作首先需登录","前往登录",function(){location.href=n},"取消");if("undefined"!=typeof e)this.list[t].replies[e].reply_fold?this.list[t].replies[e].reply_fold=0:this.list[t].replies[e].reply_fold=1;else if(this.list[t].comment_fold=0,this.list[t].reply_fold)this.list[t].reply_fold=0;else{if(""==r.id)return pop.confirm("操作首先需登录","前往登录",function(){location.href=n},"取消");this.list[t].reply_fold=1}},_comment_fold:function(e,r){var n=this.list[e],o=[];return this.list[e].reply_fold=0,t.vue.list[e].comment_fold&&!r?t.vue.list[e].comment_fold=0:void request.get("/comment/comments",function(r){r.hasOwnProperty("code")&&"0"==r.code&&(o=r.data,o.length>0&&(t.vue.list[e].replies=o,t.vue.list[e].comment_fold=1))},{id:data.article.source,root:n.id,order:"asc",orderby:"new"})},_orderby:function(e){this.orderby=e,t.update_comment()}}}),this.update_comment=function(){request.get("/comment/comments",function(e){e.hasOwnProperty("code")&&"0"==e.code&&(t.vue.list=t.save=e.data)},{id:data.article.source,orderby:t.vue.orderby})},this.comment_delete=function(t,e){pop.confirm("确认删除该评论","确定",function(){request.get("/comment/delete",function(t){t.hasOwnProperty("code")&&"0"==t.code&&e()},{id:t})},"取消")},this.comment_hide=function(t,e){pop.confirm("确认隐藏该评论","确定",function(){request.get("/comment/hide",function(t){t.hasOwnProperty("code")&&"0"==t.code&&e()},{id:t})},"取消")},this.comment_like=function(t,e,o){return""==r.id?pop.confirm("操作首先需登录","前往登录",function(){location.href=n},"取消"):void request.get("/comment/like",function(t){t.hasOwnProperty("code")&&"0"==t.code&&o()},{id:t,valid:e?1:0})},this.comment_submit=function(t,e,o){var a;return!i&&(""==r.id?pop.confirm("操作首先需登录","前往登录",function(){location.href=n},"取消"):e.length<5?pop.error("评论过短","确定").one():(i=!0,a=function(){request.get("/comment/submit",function(t){return i=!1,t.hasOwnProperty("code")?void("0"==t.code?o():"40003"==t.code?libGeetest.start(a):pop.error(t.msg||"评论失败,请重试","确定").one()):pop.error("评论失败,请重试","确定").one()},{id:data.article.source,content:e,parent:t})},void a()))},void(this.timer=setInterval(function(){var e,r=document.getElementById("comment-container");return!(r.getBoundingClientRect&&(e=r.getBoundingClientRect(),e.top-300>(window.innerHeight||document.documentElement.clientHeight)))&&(t.update_comment(),void clearInterval(t.timer))},300)))}.call(define("comment"));