(function(){var t=this;this.w=$(window),this.d=$(document),this.content=$("#site-content"),this.mid=$("#mid"),this.backgound=$("#background"),this.filter=$("#filter"),this.star=$("#star-album"),this.star_contaner=t.star.children(".item-container")}).call(define("dom")),function(){window.view_nav_left.fold=function(){return dom.mid.css("left",60),dom.content.css("padding-left",310),dom.backgound.css("padding-left",310),dom.filter.addClass("trans").removeClass("unfold")},window.view_nav_left.unfold=function(){return dom.mid.css("left",140),dom.content.css("padding-left",390),dom.backgound.css("padding-left",390),dom.filter.addClass("trans").addClass("unfold")}}.call(define("view_page_response")),function(){var t=this;this.filter_fixed=function(){var t=!!dom.filter.length&&dom.filter.offset().top;return function(){return dom.d.scrollTop()>t?dom.filter.addClass("fixed").removeClass("trans"):dom.filter.removeClass("fixed")}},this.scroll_event=function(){dom.w.scroll(t.filter_fixed())},!!dom.star&&t.scroll_event()}.call(define("view_home_page")),function(){global&&global.hasOwnProperty("uid")&&""==global.uid&&request.jsonp(global.platform.home+"/account/status",function(t){t.data&&t.data.login&&(location.href=global.platform.home+"/account/login?redirect="+encodeURIComponent(location.href))})}.call(define("controller_login_syn")),function(){var t=this,e=data.search.keyword,o=data.search.total,n=0,i=10;this.model={el:"#site-content",data:{total:o,keyword:e,load:"More",list:data.search.list},methods:{get_list:function(){t.get_list()},search:function(){location.href="/search/"+encodeURIComponent(t.model.data.keyword)}}},this.list=data.search.list,this.insert_list=function(e){t.list=t.list.concat(e),t.model.data.list=$.extend([],t.list)},this.has_more=function(){return(n+1)*i<o},this.btn_sta=function(){return 0==o?t.vue.load="":t.has_more()?t.vue.load="More":t.vue.load="End"},this.btn_loading=function(){return t.vue.load="loading"},this.get_list=function(){t.has_more()&&(t.btn_loading(),request.get("/search/"+encodeURIComponent(t.model.data.keyword)+"/list",function(e){e.hasOwnProperty("code")&&0==e.code&&(n++,setTimeout(function(){t.btn_sta(),t.insert_list(e.data.list)},0))},{index:n+1}))},this.vue=new Vue(t.model),t.btn_sta()}.call(define("controller_search"));